<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> 砖 驻? - 注专转  转拽转</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>锔</text></svg>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #ffffff;
            line-height: 1.6;
            direction: rtl;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #2a2a2a 0%, #3a3a3a 100%);
            padding: 1rem 0;
            border-bottom: 3px solid #F69898;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .header-inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .text-logo {
            color: #F69898;
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 0 2px 5px rgba(246,152,152,0.3);
        }

        .header-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .sync-status {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(0,0,0,0.3);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .sync-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #28a745;
            animation: pulse 2s infinite;
        }

        .sync-indicator.syncing {
            background: #ffc107;
            animation: spin 1s linear infinite;
        }

        .sync-indicator.error {
            background: #dc3545;
            animation: none;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .main-nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .main-nav a {
            color: #ffffff;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: all 0.3s;
            font-weight: 500;
        }

        .main-nav a:hover,
        .main-nav a.active {
            background: linear-gradient(135deg, #F69898, #ff9e9e);
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(246,152,152,0.3);
        }

        /* Login Section */
        #adminLoginSection {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
        }

        .admin-login-box {
            background: linear-gradient(135deg, #333333 0%, #444444 100%);
            border-radius: 20px;
            padding: 50px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 500px;
            text-align: center;
            border: 2px solid #F69898;
            position: relative;
            overflow: hidden;
        }

        .admin-login-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(246,152,152,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
            z-index: -1;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .admin-login-title {
            color: #F69898;
            font-size: 2.5rem;
            margin-bottom: 40px;
            font-weight: bold;
            text-shadow: 0 2px 10px rgba(246,152,152,0.3);
        }

        #adminContentSection {
            display: none;
            padding: 2rem 0;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .admin-access-button {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #F69898, #ff9e9e);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            box-shadow: 0 8px 20px rgba(246,152,152,0.4);
            cursor: pointer;
            z-index: 999;
            transition: all 0.3s ease;
            border: none;
        }

        .admin-access-button:hover {
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 12px 30px rgba(246,152,152,0.6);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1.5rem;
            position: relative;
        }

        .form-label {
            display: block;
            margin-bottom: 0.75rem;
            color: #F69898;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .form-input, .form-control {
            width: 100%;
            padding: 1rem;
            border: 2px solid #555;
            border-radius: 10px;
            background: linear-gradient(135deg, #2a2a2a 0%, #333333 100%);
            color: #ffffff;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-control:focus {
            outline: none;
            border-color: #F69898;
            box-shadow: 0 0 20px rgba(246, 152, 152, 0.3);
            transform: translateY(-2px);
        }

        /* Button Styles */
        .btn {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #F69898, #ff9e9e);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            box-shadow: 0 5px 15px rgba(246,152,152,0.3);
        }

        .btn:hover {
            background: linear-gradient(135deg, #e58080, #ff8a8a);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(246,152,152,0.5);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #666, #777);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #777, #888);
        }

        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }

        .btn-view {
            background: linear-gradient(135deg, #28a745, #20c997);
        }

        .btn-edit {
            background: linear-gradient(135deg, #ffc107, #ffcd39);
            color: #000;
        }

        .btn-delete {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
        }

        .btn-featured {
            background: linear-gradient(135deg, #8B5CF6, #A855F7);
        }

        /* Page Title */
        .page-title {
            text-align: center;
            color: #F69898;
            font-size: 3rem;
            margin-bottom: 3rem;
            text-shadow: 0 4px 15px rgba(246,152,152,0.3);
            position: relative;
        }

        .page-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(135deg, #F69898, #ff9e9e);
            border-radius: 2px;
        }

        /* Admin Section */
        .admin-section {
            margin-bottom: 4rem;
        }

        .admin-title {
            color: #F69898;
            font-size: 2rem;
            margin-bottom: 2rem;
            text-align: center;
            position: relative;
        }

        .admin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .admin-card {
            background: linear-gradient(135deg, #333 0%, #444 100%);
            padding: 2.5rem;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .admin-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(246,152,152,0.1), transparent);
            transition: left 0.5s;
        }

        .admin-card:hover::before {
            left: 100%;
        }

        .admin-card:hover {
            transform: translateY(-10px);
            border-color: #F69898;
            box-shadow: 0 20px 40px rgba(246, 152, 152, 0.3);
        }

        .admin-icon {
            font-size: 4rem;
            color: #F69898;
            margin-bottom: 1.5rem;
            text-shadow: 0 4px 15px rgba(246,152,152,0.3);
        }

        .admin-card-title {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: #ffffff;
        }

        .admin-card-desc {
            color: #cccccc;
            line-height: 1.6;
        }

        /* Statistics Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #2a2a2a 0%, #3a3a3a 100%);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #444;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            border-color: #F69898;
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(246,152,152,0.2);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            color: #F69898;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 10px rgba(246,152,152,0.3);
        }

        .stat-label {
            color: #cccccc;
            font-size: 1.1rem;
        }

        /* Table Styles */
        .table-container {
            overflow-x: auto;
            background: linear-gradient(135deg, #333 0%, #444 100%);
            border-radius: 15px;
            margin-top: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .jobs-table {
            width: 100%;
            border-collapse: collapse;
        }

        .jobs-table th,
        .jobs-table td {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #555;
        }

        .jobs-table th {
            background: linear-gradient(135deg, #F69898, #ff9e9e);
            color: white;
            font-weight: bold;
            position: sticky;
            top: 0;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .jobs-table tr:hover {
            background: rgba(246,152,152,0.1);
            transform: scale(1.01);
            transition: all 0.3s ease;
        }

        .jobs-table tr.featured-row {
            background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(168,85,247,0.1));
            border-left: 4px solid #8B5CF6;
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .status-active {
            color: #28a745;
            font-weight: bold;
            text-shadow: 0 2px 5px rgba(40,167,69,0.3);
        }

        .status-inactive {
            color: #dc3545;
            font-weight: bold;
            text-shadow: 0 2px 5px rgba(220,53,69,0.3);
        }

        .featured-badge {
            background: linear-gradient(135deg, #8B5CF6, #A855F7);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-block;
            margin-right: 8px;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        /* Search and Filter Styles */
        .search-filters {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .filter-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            justify-content: center;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: linear-gradient(135deg, #333 0%, #444 100%);
            margin: 2% auto;
            padding: 0;
            border-radius: 20px;
            width: 90%;
            max-width: 900px;
            position: relative;
            max-height: 95vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            border: 2px solid #F69898;
        }

        .modal-header {
            background: linear-gradient(135deg, #F69898, #ff9e9e);
            color: white;
            padding: 25px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            margin: 0;
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .close {
            color: white;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
            transition: all 0.3s ease;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
        }

        .close:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.1);
        }

        /* Form Grid */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 2rem;
        }

        .form-buttons {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            padding: 2rem;
            border-top: 2px solid #555;
        }

        .form-required {
            color: #F69898;
        }

        .form-help {
            font-size: 0.9rem;
            color: #aaa;
            margin-top: 0.5rem;
            font-style: italic;
        }

        .featured-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(168,85,247,0.1));
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #8B5CF6;
        }

        .toggle-switch {
            position: relative;
            width: 60px;
            height: 30px;
            background: #555;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-switch.active {
            background: linear-gradient(135deg, #8B5CF6, #A855F7);
        }

        .toggle-switch::before {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .toggle-switch.active::before {
            left: 33px;
        }

        /* Import/Export Section */
        .import-section {
            padding: 2rem;
        }

        .file-upload {
            border: 3px dashed #F69898;
            border-radius: 15px;
            padding: 4rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin: 2rem 0;
            background: linear-gradient(135deg, rgba(246,152,152,0.05), rgba(246,152,152,0.1));
        }

        .file-upload:hover {
            background: linear-gradient(135deg, rgba(246,152,152,0.1), rgba(246,152,152,0.2));
            border-color: #ff9e9e;
            transform: translateY(-5px);
        }

        .file-upload-icon {
            font-size: 4rem;
            color: #F69898;
            margin-bottom: 1rem;
        }

        /* Notifications */
        .notification {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 20px 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(40,167,69,0.3);
            z-index: 10000;
            display: none;
            animation: slideIn 0.5s ease-out;
            max-width: 400px;
        }

        .notification.error {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
            box-shadow: 0 10px 30px rgba(220,53,69,0.3);
        }

        .notification.warning {
            background: linear-gradient(135deg, #ffc107, #ffcd39);
            color: #000;
            box-shadow: 0 10px 30px rgba(255,193,7,0.3);
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 3rem;
        }

        .page-item {
            padding: 0.75rem 1.25rem;
            background: linear-gradient(135deg, #555, #666);
            color: white;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s;
            font-weight: bold;
        }

        .page-item:hover,
        .page-item.active {
            background: linear-gradient(135deg, #F69898, #ff9e9e);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(246,152,152,0.3);
        }

        /* Sync Panel */
        .sync-panel {
            background: linear-gradient(135deg, #2a2a2a 0%, #3a3a3a 100%);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid #444;
        }

        .sync-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .sync-item {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .sync-item-title {
            color: #F69898;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .sync-item-status {
            font-size: 0.9rem;
            color: #ccc;
        }

        /* Back to site button */
        .back-to-site {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(40,167,69,0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .back-to-site:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(40,167,69,0.4);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .admin-grid {
                grid-template-columns: 1fr;
            }
            
            .search-filters {
                grid-template-columns: 1fr;
            }
            
            .filter-buttons {
                flex-direction: column;
            }
            
            .action-buttons {
                flex-direction: column;
                gap: 0.25rem;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                width: 95%;
                margin: 5% auto;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .sync-info {
                grid-template-columns: 1fr;
            }

            .page-title {
                font-size: 2rem;
            }

            .admin-login-box {
                padding: 30px;
            }
        }

        /* Error Message */
        .error-message {
            color: #ff6b6b;
            margin-top: 15px;
            display: none;
            background: rgba(255,107,107,0.1);
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid #ff6b6b;
        }

        /* Loading Spinner */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10001;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(246,152,152,0.3);
            border-top: 4px solid #F69898;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, #2a2a2a 0%, #3a3a3a 100%);
            padding: 3rem 0;
            border-top: 3px solid #F69898;
            margin-top: 4rem;
            text-align: center;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .footer-link {
            color: #ffffff;
            text-decoration: none;
            transition: all 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 8px;
        }

        .footer-link:hover {
            color: #F69898;
            background: rgba(246,152,152,0.1);
        }

        .copyright {
            text-align: center;
            color: #aaa;
            margin-top: 2rem;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- 驻转专 专 转专 -->
    <a href="/" class="back-to-site" id="backToSite" style="display: none;">
        <i class="fas fa-arrow-right"></i> 专 转专
    </a>

    <!-- 驻转专 爪 砖  -->
    <button class="admin-access-button" onclick="showLoginForm()">
        <i class="fas fa-lock"></i>
    </button>

    <!-- 住 住 注专转  -->
    <div id="adminLoginSection">
        <div class="admin-login-box">
            <div class="text-logo-container" style="margin: 0 0 40px 0; padding: 0;">
                <h2 class="text-logo" style="font-size: 2.5rem;"> 砖 驻?</h2>
                <p style="font-size: 1.2rem; margin-bottom: 20px; color: #cccccc;">注专转  转拽转</p>
            </div>
            
            <h2 class="admin-login-title">住 注专转</h2>
            
            <div class="form-group">
                <label class="form-label">住住</label>
                <input type="password" id="adminPassword" class="form-control" placeholder="住 住住...">
            </div>
            
            <button class="btn" onclick="checkAdminPassword()">住 注专转</button>
            
            <div id="adminErrorMessage" class="error-message">
                <i class="fas fa-exclamation-triangle"></i>
                住住 砖, 住 砖转
            </div>
            
            <div style="margin-top: 40px;">
                <h4 style="color: #F69898; margin-bottom: 15px;"> 住 注专转?</h4>
                <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 10px; text-align: right;">
                    <p style="margin-bottom: 10px;"><strong>专 1:</strong> 抓 注 驻转专 爪 注 专砖</p>
                    <p style="margin-bottom: 10px;"><strong>专 2:</strong> 砖 : <code style="color: #F69898;">yoursite.com/admin.html</code></p>
                    <p style="margin-bottom: 10px;"><strong>专 3:</strong> 住祝 <code style="color: #F69898;">#admin</code> 转转</p>
                    <p style="color: #28a745; font-weight: bold;">住住: yarin080708</p>
                </div>
            </div>
            
            <p style="margin-top: 40px; color: #cccccc;">
                <a href="/" style="color: #F69898; text-decoration: none; font-weight: bold;">
                    <i class="fas fa-arrow-right"></i> 专 祝 转
                </a>
            </p>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText">驻注 爪注 爪</span>
    </div>

    <!-- 转  砖专转 -->
    <div id="adminContentSection">
        <!-- 转专转 注 -->
        <header class="header">
            <div class="container">
                <div class="header-inner">
                    <div class="text-logo-container" style="margin: 0; padding: 0;">
                        <h2 class="text-logo"> 砖 驻?</h2>
                    </div>
                    
                    <div class="header-actions">
                        <div class="sync-status" id="syncStatus">
                            <div class="sync-indicator" id="syncIndicator"></div>
                            <span id="syncText">住专</span>
                        </div>
                        
                        <nav class="main-nav" id="mainNav">
                            <ul>
                                <li><a href="/">祝 转</a></li>
                                <li><a href="#" class="active"> 转拽</a></li>
                                <li><a href="/#contact">爪专 拽砖专</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </header>

        <!-- 转 专砖 -->
        <main class="container">
            <h1 class="page-title">
                <i class="fas fa-cogs"></i>
                注专转  转拽转
            </h1>

            <!-- 住住拽转 -->
            <section class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalJobsCount">0</div>
                    <div class="stat-label">住" 砖专转</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="activeJobsCount">0</div>
                    <div class="stat-label">砖专转 驻注转</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="featuredJobsCount">0</div>
                    <div class="stat-label">砖专转 爪转</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="categoriesCount">0</div>
                    <div class="stat-label">拽专转</div>
                </div>
            </section>

            <!-- 驻 住专 -->
            <section class="sync-panel">
                <h3 style="color: #F69898; margin-bottom: 15px;">
                    <i class="fas fa-sync-alt"></i>
                    住住 住专 注专转
                </h3>
                <div class="sync-info">
                    <div class="sync-item">
                        <div class="sync-item-title">转专 专砖</div>
                        <div class="sync-item-status" id="websiteSync">拽...</div>
                    </div>
                    <div class="sync-item">
                        <div class="sync-item-title">GitHub</div>
                        <div class="sync-item-status" id="githubSync">拽...</div>
                    </div>
                    <div class="sync-item">
                        <div class="sync-item-title">注 专</div>
                        <div class="sync-item-status" id="lastUpdate">注...</div>
                    </div>
                    <div class="sync-item">
                        <div class="sync-item-title">拽 专</div>
                        <div class="sync-item-status" id="lastCheck">注...</div>
                    </div>
                </div>
            </section>
            
            <!--   -->
            <section class="admin-section">
                <h2 class="admin-title">
                    <i class="fas fa-tools"></i>
                      转拽
                </h2>
                <div class="admin-grid">
                    <div class="admin-card" onclick="openImportModal()">
                        <div class="admin-icon"><i class="fas fa-file-import"></i></div>
                        <div class="admin-card-title"> 砖专转</div>
                        <div class="admin-card-desc"> 砖专转 拽抓 CSV  JSON 注 驻 </div>
                    </div>
                    
                    <div class="admin-card" onclick="openAddJobModal()">
                        <div class="admin-icon"><i class="fas fa-plus-circle"></i></div>
                        <div class="admin-card-title">住驻转 砖专</div>
                        <div class="admin-card-desc">住祝 砖专 砖 注 驻砖专转 专 爪转</div>
                    </div>
                    
                    <div class="admin-card" onclick="exportJobs()">
                        <div class="admin-icon"><i class="fas fa-file-export"></i></div>
                        <div class="admin-card-title">爪 砖专转</div>
                        <div class="admin-card-desc">爪 砖专转 拽抓 Excel  CSV</div>
                    </div>

                    <div class="admin-card" onclick="exportForGitHub()">
                        <div class="admin-icon"><i class="fab fa-github"></i></div>
                        <div class="admin-card-title">注 GitHub</div>
                        <div class="admin-card-desc">爪 注 专 GitHub 住专 </div>
                    </div>
                    
                    <div class="admin-card" onclick="manageCategories()">
                        <div class="admin-icon"><i class="fas fa-tags"></i></div>
                        <div class="admin-card-title"> 拽专转</div>
                        <div class="admin-card-desc">住祝, 注专 拽 拽专转 砖专转</div>
                    </div>
                    
                    <div class="admin-card" onclick="bulkActions()">
                        <div class="admin-icon"><i class="fas fa-list-check"></i></div>
                        <div class="admin-card-title">驻注转 专转</div>
                        <div class="admin-card-desc">爪注 驻注转 注 住驻专 砖专转  转</div>
                    </div>

                    <div class="admin-card" onclick="syncAllSystems()">
                        <div class="admin-icon"><i class="fas fa-sync"></i></div>
                        <div class="admin-card-title">住专 注专转</div>
                        <div class="admin-card-desc">住专    注专转 驻驻专转</div>
                    </div>
                    
                    <div class="admin-card" onclick="window.open('/', '_blank')">
                        <div class="admin-icon"><i class="fas fa-eye"></i></div>
                        <div class="admin-card-title">爪驻 转专</div>
                        <div class="admin-card-desc">注专 祝 专砖 爪驻 砖专转</div>
                    </div>
                </div>
            </section>
            
            <!-- 专砖转 砖专转 -->
            <section class="jobs-list-section">
                <h2 class="admin-title">
                    <i class="fas fa-briefcase"></i>
                     砖专转 转拽
                </h2>
                
                <div class="search-filters">
                    <input type="text" class="form-control" id="searchJobsInput" placeholder="驻砖 驻砖...">
                    
                    <select class="form-control" id="categoryFilterAdmin">
                        <option value=""> 拽专转</option>
                    </select>
                    
                    <select class="form-control" id="statusFilterAdmin">
                        <option value=""> 住住</option>
                        <option value="驻注">驻注</option>
                        <option value=" 驻注"> 驻注</option>
                    </select>

                    <select class="form-control" id="featuredFilterAdmin">
                        <option value=""></option>
                        <option value="true">爪转 </option>
                        <option value="false">专转 </option>
                    </select>
                </div>
                
                <div class="filter-buttons">
                    <button class="btn" onclick="filterJobsList()">
                        <i class="fas fa-search"></i> 驻砖
                    </button>
                    <button class="btn btn-secondary" onclick="clearJobsFilters()">
                        <i class="fas fa-eraser"></i> 拽
                    </button>
                    <button class="btn" onclick="openBulkModal()">
                        <i class="fas fa-check-square"></i> 驻注转 专转
                    </button>
                </div>
                
                <div class="table-container">
                    <table class="jobs-table" id="jobsTable">
                        <thead>
                            <tr>
                                <th style="width: 50px;">
                                    <input type="checkbox" id="selectAllJobs" onchange="toggleSelectAll()">
                                </th>
                                <th style="width: 80px;">住' 砖专</th>
                                <th>转专转</th>
                                <th>专</th>
                                <th>拽专</th>
                                <th>拽</th>
                                <th style="width: 80px;">住住</th>
                                <th style="width: 80px;">爪转</th>
                                <th style="width: 220px;">驻注转</th>
                            </tr>
                        </thead>
                        <tbody id="jobsTableBody">
                            <!-- Will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <div class="pagination" id="jobsPagination">
                    <!-- Will be populated by JavaScript -->
                </div>
            </section>
        </main>

        <!--   砖专转 转拽 -->
        <div id="import-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">
                        <i class="fas fa-file-import"></i>
                         砖专转 转拽
                    </h3>
                    <span class="close" onclick="closeImportModal()">&times;</span>
                </div>
                
                <div class="import-section">
                    <p style="font-size: 1.1rem; margin-bottom: 20px;">注 拽抓 CSV  JSON 注 专砖转 砖专转 砖</p>
                    <p style="color: #F69898; font-weight: bold;">注专转 转 转 转 砖转 转爪注 驻 </p>
                    
                    <div class="file-upload" onclick="document.getElementById('file-input').click()">
                        <div class="file-upload-icon"></div>
                        <p style="font-size: 1.2rem; font-weight: bold; margin-bottom: 10px;">抓  注转 拽抓</p>
                        <p>转 拽爪 CSV, JSON -Excel</p>
                        <p style="color: #F69898; margin-top: 10px;">专专 砖专专 拽抓 </p>
                    </div>
                    
                    <input type="file" id="file-input" accept=".csv,.json,.xlsx,.xls" style="display: none;" onchange="handleFileUpload(event)">
                    
                    <div style="background: #2a2a2a; padding: 20px; border-radius: 10px; margin-top:20px;">
                        <h4 style="color: #F69898; margin-bottom: 15px;">
                            <i class="fas fa-info-circle"></i>
                            注 砖
                        </h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                            <div>
                                <p><strong>驻专 转:</strong></p>
                                <ul style="margin-right: 20px; color: #ccc;">
                                    <li>CSV 注 转专转</li>
                                    <li>JSON 注专 拽</li>
                                    <li>Excel (.xlsx, .xls)</li>
                                </ul>
                            </div>
                            <div>
                                <p><strong>砖转 转:</strong></p>
                                <ul style="margin-right: 20px; color: #ccc;">
                                    <li>住驻专 砖专, 转专转, 专</li>
                                    <li>拽专, 注专, 专</li>
                                    <li>转专, 专砖转, 住住</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="margin-top: 20px; text-align: center;">
                            <button class="btn btn-secondary" onclick="downloadAdvancedTemplate()">
                                <i class="fas fa-download"></i>
                                专 转转 转拽转
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--  驻 转专转 转拽 -->
        <div id="mapping-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">
                        <i class="fas fa-map"></i>
                        驻 砖转 
                    </h3>
                    <span class="close" onclick="closeMappingModal()">&times;</span>
                </div>
                
                <div style="padding: 2rem;">
                    <div id="mapping-preview" style="background: #2a2a2a; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                        <!-- 转 转 -->
                    </div>
                    
                    <div id="mapping-container">
                        <!-- 转 驻  -->
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(168,85,247,0.1)); padding: 20px; border-radius: 10px; margin: 20px 0; border: 2px solid #8B5CF6;">
                        <h4 style="color: #8B5CF6; margin-bottom: 10px;">
                            <i class="fas fa-star"></i>
                            专转 转拽转
                        </h4>
                        <div style="display: flex; gap: 20px; align-items: center; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="checkbox" id="setAllFeatured" style="transform: scale(1.2);">
                                <span>住  砖专转 爪转</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="checkbox" id="autoActivate" checked style="transform: scale(1.2);">
                                <span>驻注 转 转  砖专转</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-buttons">
                        <button class="btn btn-secondary" onclick="closeMappingModal()">
                            <i class="fas fa-times"></i> 
                        </button>
                        <button class="btn" onclick="applyMapping()">
                            <i class="fas fa-check"></i>  砖专转
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!--  住驻转/注专转 砖专 转拽 -->
        <div id="job-edit-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="edit-modal-title" class="modal-title">
                        <i class="fas fa-plus"></i>
                        住驻转 砖专 砖
                    </h3>
                    <span class="close" onclick="closeEditModal()">&times;</span>
                </div>
                
                <form id="job-edit-form" onsubmit="return saveJob(event)">
                    <input type="hidden" id="edit-job-id">
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">住驻专 砖专</label>
                            <input type="text" id="edit-job-number" class="form-input" placeholder="专   专拽">
                            <div class="form-help">住驻专   砖专</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">转专转 砖专 <span class="form-required">*</span></label>
                            <input type="text" id="edit-job-title" class="form-input" required placeholder="砖: 驻转/转 Full Stack">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">专 <span class="form-required">*</span></label>
                            <input type="text" id="edit-job-company" class="form-input" required placeholder="砖 专 住转">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">拽专</label>
                            <select id="edit-job-category" class="form-input">
                                <option value=" 住注转"> 住注转</option>
                                <option value=" 专"> 专</option>
                                <option value="驻转 转">驻转 转</option>
                                <option value="砖 专砖转转 转拽砖专转">砖 专砖转转</option>
                                <option value="注 专 住">专 住</option>
                                <option value="砖拽 专转">砖拽 专转</option>
                                <option value="专转 专驻">专转 专驻</option>
                                <option value=" 住专爪"> 住专爪</option>
                                <option value="专">专</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">注专 <span class="form-required">*</span></label>
                            <input type="text" id="edit-job-city" class="form-input" required placeholder="注专 砖专">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">专 <span class="form-required">*</span></label>
                            <select id="edit-job-region" class="form-input" required>
                                <option value="专">专</option>
                                <option value="爪驻">爪驻</option>
                                <option value="驻 拽专转 爪驻">驻 拽专转 爪驻</option>
                                <option value="专砖 住">专砖 住</option>
                                <option value="专">专</option>
                                <option value="砖专">砖专</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">住 砖专</label>
                            <select id="edit-job-type" class="form-input">
                                <option value="砖专 ">砖专 </option>
                                <option value="砖专 拽转">砖专 拽转</option>
                                <option value="驻专住">驻专住</option>
                                <option value="转转">转转</option>
                                <option value=""></option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">住住</label>
                            <select id="edit-job-status" class="form-input">
                                <option value="驻注">驻注</option>
                                <option value=" 驻注"> 驻注</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- 专 砖专 爪转 -->
                    <div style="padding: 0 2rem;">
                        <div class="featured-toggle" id="featuredToggleContainer">
                            <div class="toggle-switch" id="featuredToggle" onclick="toggleFeatured()">
                            </div>
                            <div>
                                <strong style="color: #8B5CF6;">砖专 爪转</strong>
                                <div style="font-size: 0.9rem; color: #ccc;">砖专转 爪转 驻注转 专砖转 转专 注 住 </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="padding: 0 2rem;">
                        <div class="form-group">
                            <label class="form-label">转专 砖专 <span class="form-required">*</span></label>
                            <textarea id="edit-job-description" class="form-input" rows="6" required placeholder="转专 转 砖专, 转驻拽 专转 ..."></textarea>
                            <div class="form-help">转专 驻专 注专 注  转 转驻拽</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">专砖转 转驻拽</label>
                            <textarea id="edit-job-requirements" class="form-input" rows="5" placeholder="专砖 转 专砖转 砖专 专砖..."></textarea>
                            <div class="form-help">驻专  专砖转 砖转 爪注转 专转 砖专</div>
                        </div>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="button" class="btn btn-secondary" onclick="closeEditModal()">
                            <i class="fas fa-times"></i> 
                        </button>
                        <button type="submit" class="btn">
                            <i class="fas fa-save"></i> 砖专 砖专
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!--  驻注转 专转 -->
        <div id="bulk-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">
                        <i class="fas fa-list-check"></i>
                        驻注转 专转
                    </h3>
                    <span class="close" onclick="closeBulkModal()">&times;</span>
                </div>
                
                <div style="padding: 2rem;">
                    <p style="margin-bottom: 20px; font-size: 1.1rem;">
                        专 <span id="selectedCount" style="color: #F69898; font-weight: bold;">0</span> 砖专转
                    </p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <button class="btn" onclick="bulkAction('activate')">
                            <i class="fas fa-check-circle"></i>
                            驻注 
                        </button>
                        <button class="btn btn-secondary" onclick="bulkAction('deactivate')">
                            <i class="fas fa-times-circle"></i>
                            砖转 
                        </button>
                        <button class="btn btn-featured" onclick="bulkAction('feature')">
                            <i class="fas fa-star"></i>
                            住 爪转
                        </button>
                        <button class="btn btn-secondary" onclick="bulkAction('unfeature')">
                            <i class="fas fa-star-o"></i>
                             爪
                        </button>
                        <button class="btn btn-delete" onclick="bulkAction('delete')">
                            <i class="fas fa-trash"></i>
                            拽 
                        </button>
                    </div>
                    
                    <div style="margin-top: 30px; text-align: center;">
                        <button class="btn btn-secondary" onclick="closeBulkModal()">
                            <i class="fas fa-times"></i> 住专
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 转专转 转转 -->
        <footer class="footer">
            <div class="container">
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2 class="text-logo" style="font-size: 2.5rem;"> 砖 驻?</h2>
                    <p style="font-size: 1.2rem; margin-bottom: 15px; color: #cccccc;">注专转  转拽转  砖专转</p>
                </div>
                
                <div class="footer-links">
                    <a href="/" class="footer-link">祝 转</a>
                    <a href="#" class="footer-link"> 转拽</a>
                    <a href="/#search" class="footer-link">驻砖 砖专转</a>
                    <a href="/#contact" class="footer-link">爪专 拽砖专</a>
                </div>
                
                <p class="copyright">漏 2025  砖 驻? - 注专转  转拽转</p>
            </div>
        </footer>
    </div>

    <script>
        //  拽 JavaScript  专驻拽 ...
        console.log('注专转  注...');
    </script>
</body>
<script>
        // 砖转  转拽
        let jobs = [];
        let filteredJobs = [];
        let currentPage = 1;
        const jobsPerPage = 15;
        let csvData = null;
        let csvHeaders = [];
        let isFiltered = false;
        let selectedJobs = new Set();
        let featuredJobId = null;
        let syncInterval = null;

        // 驻 砖转 注专转
        const systemFields = {
            'jobNumber': '住驻专 砖专',
            'title': '转专转',
            'company': '专', 
            'category': '拽专',
            'city': '注专',
            'region': '专',
            'jobType': '住 砖专',
            'status': '住住',
            'description': '转专',
            'requirements': '专砖转',
            'featured': '爪转'
        };

        // 拽专转 专专转 
        const defaultCategories = [
            ' 住注转', ' 专', '驻转 转',
            '砖 专砖转转 转拽砖专转', '注 专 住',
            '砖拽 专转', '专转 专驻', ' 住专爪', '专'
        ];

        // 驻拽爪转 转
        function showLoginForm() {
            document.getElementById('adminLoginSection').style.display = 'flex';
        }

        function checkAdminPassword() {
            const password = document.getElementById('adminPassword').value;
            const correctPassword = "yarin080708";
            
            if (password === correctPassword) {
                document.getElementById('adminLoginSection').style.display = 'none';
                document.getElementById('adminContentSection').style.display = 'block';
                document.getElementById('backToSite').style.display = 'block';
                sessionStorage.setItem('adminAuthenticated', 'true');
                initializeAdminSystem();
            } else {
                document.getElementById('adminErrorMessage').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('adminErrorMessage').style.display = 'none';
                }, 3000);
            }
        }

        // 转 注专转  转拽转
        function initializeAdminSystem() {
            showNotification('注专转  注转...', 'warning');
            showLoading();
            
            loadJobsAdvanced()
                .then(() => {
                    updateStatistics();
                    startSyncMonitoring();
                    showNotification('注专转   砖砖!', 'success');
                })
                .catch(error => {
                    console.error('砖 转:', error);
                    showNotification('砖 转 注专转', 'error');
                })
                .finally(() => {
                    hideLoading();
                });
        }

        // 注转 砖专转 转拽转 注 住专
        async function loadJobsAdvanced() {
            console.log(' 转 注 转拽转 砖 砖专转...');
            
            // 拽转 转 拽
            const localJobs = localStorage.getItem('jobs');
            const localDate = localStorage.getItem('jobs_last_updated');
            
            if (localJobs) {
                try {
                    jobs = JSON.parse(localJobs);
                    jobs = jobs.map(job => ({
                        ...job,
                        featured: job.featured || false,
                        jobType: job.jobType || '砖专 '
                    }));
                    
                    console.log(' 注', jobs.length, '砖专转 住 拽');
                    updateAllDisplays();
                    updateSyncStatus('localStorage', true, localDate);
                } catch (error) {
                    console.error(' 砖 注 住 拽:', error);
                }
            }

            // 拽转 GitHub 拽
            try {
const response = await fetch('https://raw.githubusercontent.com/YOUR-USERNAME/YOUR-REPO/main/jobs.json');
                if (response.ok) {
                    const githubJobs = await response.json();
                    updateSyncStatus('github', true);
                    
                    // 砖 注 转 爪专
                    if (!localJobs || githubJobs.length !== jobs.length) {
                        console.log(' 注 -GitHub...');
                        jobs = githubJobs.map(job => ({
                            ...job,
                            featured: job.featured || false,
                            jobType: job.jobType || '砖专 '
                        }));
                        
                        saveJobsToLocal();
                        updateAllDisplays();
                        showNotification('砖专转 注 -GitHub', 'success');
                    }
                } else {
                    throw new Error('砖 注 -GitHub');
                }
            } catch (error) {
                console.warn('锔  转 注 -GitHub:', error.message);
                updateSyncStatus('github', false);
            }

            // 注  拽 专
            localStorage.setItem('last_sync_check', new Date().toISOString());
        }

        // 砖专转 砖专转 转拽转
        function saveJobsAdvanced() {
            try {
                // 砖专 拽转
                saveJobsToLocal();
                
                // 住专 注 转专 专砖
                syncWithMainWebsite();
                
                // 注 转爪
                updateAllDisplays();
                
                showNotification('砖专转 砖专 住专转 爪!', 'success');
                
            } catch (error) {
                console.error(' 砖 砖专:', error);
                showNotification('砖 砖专转 砖专转', 'error');
            }
        }

        function saveJobsToLocal() {
            localStorage.setItem('jobs', JSON.stringify(jobs));
            localStorage.setItem('jobs_last_updated', new Date().toISOString());
            updateSyncStatus('localStorage', true);
        }

        // 住专 注 转专 专砖
        function syncWithMainWebsite() {
            try {
                // 砖专 转专 专砖 - 砖转砖 砖转 
                localStorage.setItem('website_jobs', JSON.stringify(jobs));
                localStorage.setItem('website_jobs_updated', new Date().toISOString());
                localStorage.setItem('website_jobs_source', 'Admin System');
                
                updateSyncStatus('website', true);
                console.log(' 住专 注 转专 专砖');
            } catch (error) {
                console.error(' 砖 住专 注 转专:', error);
                updateSyncStatus('website', false);
            }
        }

        // 注  转爪转
        function updateAllDisplays() {
            if (isFiltered) {
                applyFilters();
            } else {
                filteredJobs = [...jobs];
            }
            
            displayJobsAdvanced();
            updateCategoryFilters();
            updateStatistics();
        }

        // 爪转 砖专转 转拽转
        function displayJobsAdvanced() {
            const tableBody = document.getElementById('jobsTableBody');
            tableBody.innerHTML = '';
            
            const jobsToDisplay = filteredJobs;
            
            if (jobsToDisplay.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `<td colspan="9" style="text-align: center; padding: 3rem; color: #aaa;">
                    ${isFiltered ? 
                        ' 爪 砖专转 转转 转 住<br><button class="btn btn-secondary" onclick="clearJobsFilters()">拽 住</button>' : 
                        ' 砖专转 爪<br><button class="btn" onclick="openAddJobModal()">住祝 砖专 专砖</button>'
                    }
                </td>`;
                tableBody.appendChild(row);
                document.getElementById('jobsPagination').innerHTML = '';
                return;
            }
            
            const totalPages = Math.ceil(jobsToDisplay.length / jobsPerPage);
            currentPage = Math.min(currentPage, totalPages);
            currentPage = Math.max(currentPage, 1);
            
            const startIndex = (currentPage - 1) * jobsPerPage;
            const endIndex = Math.min(startIndex + jobsPerPage, jobsToDisplay.length);
            const pageJobs = jobsToDisplay.slice(startIndex, endIndex);
            
            // 住驻转 砖专转 注 注 住
            if (isFiltered) {
                const infoRow = document.createElement('tr');
                infoRow.innerHTML = `
                    <td colspan="9" style="text-align: center; padding: 15px; background: rgba(246, 152, 152, 0.1); border: 2px solid #F69898;">
                        <i class="fas fa-filter"></i>
                        爪 ${jobsToDisplay.length} 转 ${jobs.length} 砖专转
                        <button class="btn btn-sm btn-secondary" style="margin-right: 15px;" onclick="clearJobsFilters()">
                            <i class="fas fa-times"></i> 拽 住
                        </button>
                    </td>
                `;
                tableBody.appendChild(infoRow);
            }
            
            pageJobs.forEach((job, index) => {
                const actualIndex = startIndex + index;
                const originalIndex = jobs.findIndex(j => 
                    j.jobNumber === job.jobNumber && 
                    j.title === job.title && 
                    j.company === job.company
                );
                
                const row = document.createElement('tr');
                if (job.featured) {
                    row.classList.add('featured-row');
                }
                
                const isSelected = selectedJobs.has(originalIndex);
                
                row.innerHTML = `
                    <td>
                        <input type="checkbox" ${isSelected ? 'checked' : ''} 
                               onchange="toggleJobSelection(${originalIndex})">
                    </td>
                    <td>${job.jobNumber || ''}</td>
                    <td>
                        ${job.featured ? '<span class="featured-badge">猸 爪转</span>' : ''}
                        ${job.title || '-'}
                    </td>
                    <td>${job.company || '-'}</td>
                    <td>${job.category || '专'}</td>
                    <td>${job.city ? job.city + ', ' + (job.region || '专') : job.region || '专'}</td>
                    <td class="${job.status === ' 驻注' ? 'status-inactive' : 'status-active'}">
                        ${job.status || '驻注'}
                    </td>
                    <td>
                        <button class="btn btn-sm ${job.featured ? 'btn-featured' : 'btn-secondary'}" 
                                onclick="toggleJobFeatured(${originalIndex})" 
                                title="${job.featured ? ' 爪' : '住 爪转'}">
                            <i class="fas ${job.featured ? 'fa-star' : 'fa-star-o'}"></i>
                        </button>
                    </td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-sm btn-view" onclick="viewJobAdvanced(${originalIndex})" title="爪 驻专">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-sm btn-edit" onclick="editJobAdvanced(${originalIndex})" title="注专">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-delete" onclick="deleteJobAdvanced(${originalIndex})" title="拽">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
            
            updatePaginationAdvanced(totalPages);
        }

        // 注 转 驻 转拽
        function updatePaginationAdvanced(totalPages) {
            const pagination = document.getElementById('jobsPagination');
            pagination.innerHTML = '';
            
            if (totalPages <= 1) return;
            
            // 驻转专 注 拽
            if (currentPage > 1) {
                const prevBtn = document.createElement('div');
                prevBtn.className = 'page-item';
                prevBtn.innerHTML = '<i class="fas fa-chevron-right"></i>';
                prevBtn.onclick = () => {
                    currentPage--;
                    displayJobsAdvanced();
                };
                pagination.appendChild(prevBtn);
            }
            
            // 住驻专 注
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(totalPages, currentPage + 2);
            
            if (startPage > 1) {
                const firstBtn = document.createElement('div');
                firstBtn.className = 'page-item';
                firstBtn.textContent = '1';
                firstBtn.onclick = () => {
                    currentPage = 1;
                    displayJobsAdvanced();
                };
                pagination.appendChild(firstBtn);
                
                if (startPage > 2) {
                    const dots = document.createElement('div');
                    dots.className = 'page-item';
                    dots.textContent = '...';
                    dots.style.cursor = 'default';
                    pagination.appendChild(dots);
                }
            }
            
            for (let i = startPage; i <= endPage; i++) {
                const pageBtn = document.createElement('div');
                pageBtn.className = 'page-item' + (i === currentPage ? ' active' : '');
                pageBtn.textContent = i;
                pageBtn.onclick = () => {
                    currentPage = i;
                    displayJobsAdvanced();
                };
                pagination.appendChild(pageBtn);
            }

            if (endPage < totalPages) {
                if (endPage < totalPages - 1) {
                    const dots = document.createElement('div');
                    dots.className = 'page-item';
                    dots.textContent = '...';
                    dots.style.cursor = 'default';
                    pagination.appendChild(dots);
                }
                
                const lastBtn = document.createElement('div');
                lastBtn.className = 'page-item';
                lastBtn.textContent = totalPages;
                lastBtn.onclick = () => {
                    currentPage = totalPages;
                    displayJobsAdvanced();
                };
                pagination.appendChild(lastBtn);
            }
            
            // 驻转专 注 
            if (currentPage < totalPages) {
                const nextBtn = document.createElement('div');
                nextBtn.className = 'page-item';
                nextBtn.innerHTML = '<i class="fas fa-chevron-left"></i>';
                nextBtn.onclick = () => {
                    currentPage++;
                    displayJobsAdvanced();
                };
                pagination.appendChild(nextBtn);
            }
        }

        // 注 住住拽转
        function updateStatistics() {
            const total = jobs.length;
            const active = jobs.filter(job => job.status === '驻注').length;
            const featured = jobs.filter(job => job.featured).length;
            const categories = [...new Set(jobs.map(job => job.category).filter(Boolean))].length;
            
            document.getElementById('totalJobsCount').textContent = total;
            document.getElementById('activeJobsCount').textContent = active;
            document.getElementById('featuredJobsCount').textContent = featured;
            document.getElementById('categoriesCount').textContent = categories;
        }

        // 注 住 拽专转
        function updateCategoryFilters() {
            const categoryFilter = document.getElementById('categoryFilterAdmin');
            const currentValue = categoryFilter.value;
            
            const categories = [...new Set(jobs.map(job => job.category).filter(Boolean))].sort();
            
            categoryFilter.innerHTML = '<option value=""> 拽专转</option>';
            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category;
                categoryFilter.appendChild(option);
            });
            
            categoryFilter.value = currentValue;
        }

        //  专转 砖专转
        function toggleJobSelection(index) {
            if (selectedJobs.has(index)) {
                selectedJobs.delete(index);
            } else {
                selectedJobs.add(index);
            }
            updateSelectAllCheckbox();
        }

        function toggleSelectAll() {
            const selectAllCheckbox = document.getElementById('selectAllJobs');
            const currentJobs = filteredJobs;
            
            if (selectAllCheckbox.checked) {
                currentJobs.forEach((job, index) => {
                    const originalIndex = jobs.findIndex(j => 
                        j.jobNumber === job.jobNumber && 
                        j.title === job.title && 
                        j.company === job.company
                    );
                    if (originalIndex !== -1) {
                        selectedJobs.add(originalIndex);
                    }
                });
            } else {
                selectedJobs.clear();
            }
            
            displayJobsAdvanced();
        }

        function updateSelectAllCheckbox() {
            const selectAllCheckbox = document.getElementById('selectAllJobs');
            const currentJobsCount = filteredJobs.length;
            const selectedCurrentJobs = filteredJobs.filter((job, index) => {
                const originalIndex = jobs.findIndex(j => 
                    j.jobNumber === job.jobNumber && 
                    j.title === job.title && 
                    j.company === job.company
                );
                return selectedJobs.has(originalIndex);
            }).length;
            
            selectAllCheckbox.checked = currentJobsCount > 0 && selectedCurrentJobs === currentJobsCount;
            selectAllCheckbox.indeterminate = selectedCurrentJobs > 0 && selectedCurrentJobs < currentJobsCount;
        }

        // 驻拽爪转 转拽转 砖专转
        function toggleJobFeatured(index) {
            jobs[index].featured = !jobs[index].featured;
            saveJobsAdvanced();
            showNotification(
                jobs[index].featured ? '砖专 住 爪转' : '爪 ',
                'success'
            );
        }

        function editJobAdvanced(index) {
            const job = jobs[index];
            
            document.getElementById('edit-modal-title').innerHTML = '<i class="fas fa-edit"></i> 注专转 砖专';
            document.getElementById('edit-job-id').value = index;
            document.getElementById('edit-job-number').value = job.jobNumber || '';
            document.getElementById('edit-job-title').value = job.title || '';
            document.getElementById('edit-job-company').value = job.company || '';
            document.getElementById('edit-job-category').value = job.category || '专';
            document.getElementById('edit-job-city').value = job.city || '';
            document.getElementById('edit-job-region').value = job.region || '专';
            document.getElementById('edit-job-type').value = job.jobType || '砖专 ';
            document.getElementById('edit-job-status').value = job.status || '驻注';
            document.getElementById('edit-job-description').value = job.description || '';
            document.getElementById('edit-job-requirements').value = job.requirements || '';
            
            // 专转 爪 砖专 爪转
            featuredJobId = job.featured;
            updateFeaturedToggle();
            
            document.getElementById('job-edit-modal').style.display = 'block';
        }

        function viewJobAdvanced(index) {
            const job = jobs[index];
            let details = '';
            
            details += ` 专: ${job.company || ' 专'}\n`;
            details += ` 转专转: ${job.title || ' 专'}\n`;
            details += ` 住驻专 砖专: ${job.jobNumber || ''}\n`;
            details += ` 拽专: ${job.category || '专'}\n`;
            details += ` 拽: ${job.city ? job.city + ', ' + (job.region || '专') : job.region || '专'}\n`;
            details += ` 住 砖专: ${job.jobType || '砖专 '}\n`;
            details += ` 住住: ${job.status || '驻注'}\n`;
            details += `猸 爪转: ${job.featured ? '' : ''}\n\n`;
            details += ` 转专 砖专:\n${job.description || '( 转专)'}\n\n`;
            details += ` 专砖转 转驻拽:\n${job.requirements || '( 专砖转 转)'}`;
            
            alert(details);
        }

        function deleteJobAdvanced(index) {
            const job = jobs[index];
            if (confirm(` 转  砖专爪 拽 转 砖专:\n"${job.title}" -${job.company}?`)) {
                jobs.splice(index, 1);
                selectedJobs.delete(index);
                
                // 注 拽住 砖 砖专转 专转
                const newSelectedJobs = new Set();
                selectedJobs.forEach(selectedIndex => {
                    if (selectedIndex > index) {
                        newSelectedJobs.add(selectedIndex - 1);
                    } else if (selectedIndex < index) {
                        newSelectedJobs.add(selectedIndex);
                    }
                });
                selectedJobs = newSelectedJobs;
                
                saveJobsAdvanced();
                showNotification('砖专 拽 爪', 'success');
            }
        }

        // 驻拽爪转 
        function openAddJobModal() {
            document.getElementById('edit-modal-title').innerHTML = '<i class="fas fa-plus"></i> 住驻转 砖专 砖';
            document.getElementById('job-edit-form').reset();
            document.getElementById('edit-job-id').value = '';
            
            // 驻住 爪 砖专 爪转
            featuredJobId = false;
            updateFeaturedToggle();
            
            document.getElementById('job-edit-modal').style.display = 'block';
        }

        function closeEditModal() {
            document.getElementById('job-edit-modal').style.display = 'none';
        }

        function saveJob(event) {
            event.preventDefault();
            
            const id = document.getElementById('edit-job-id').value;
            const job = {
                jobNumber: document.getElementById('edit-job-number').value || generateJobNumber(),
                title: document.getElementById('edit-job-title').value,
                company: document.getElementById('edit-job-company').value,
                category: document.getElementById('edit-job-category').value,
                city: document.getElementById('edit-job-city').value,
                region: document.getElementById('edit-job-region').value,
                jobType: document.getElementById('edit-job-type').value,
                status: document.getElementById('edit-job-status').value,
                description: document.getElementById('edit-job-description').value,
                requirements: document.getElementById('edit-job-requirements').value,
                featured: featuredJobId
            };
            
            if (id === '') {
                // 住驻转 砖专 砖
                jobs.push(job);
                showNotification('砖专 砖 住驻 爪!', 'success');
            } else {
                // 注 砖专 拽转
                jobs[parseInt(id)] = job;
                showNotification('砖专 注 爪!', 'success');
            }
            
            saveJobsAdvanced();
            closeEditModal();
            return false;
        }

        // 爪专转 住驻专 砖专 
        function generateJobNumber() {
            const existing = jobs.map(job => job.jobNumber).filter(Boolean);
            const numbers = existing.map(num => parseInt(num.replace(/\D/g, ''))).filter(num => !isNaN(num));
            const maxNumber = numbers.length > 0 ? Math.max(...numbers) : 0;
            return `JOB${(maxNumber + 1).toString().padStart(3, '0')}`;
        }

        //  砖专 爪转
        function toggleFeatured() {
            featuredJobId = !featuredJobId;
            updateFeaturedToggle();
        }

        function updateFeaturedToggle() {
            const toggle = document.getElementById('featuredToggle');
            if (featuredJobId) {
                toggle.classList.add('active');
            } else {
                toggle.classList.remove('active');
            }
        }

        // 住 转拽
        function filterJobsList() {
            applyFilters();
            currentPage = 1;
            displayJobsAdvanced();
        }

        function applyFilters() {
            const searchText = document.getElementById('searchJobsInput').value.toLowerCase();
            const categoryFilter = document.getElementById('categoryFilterAdmin').value;
            const statusFilter = document.getElementById('statusFilterAdmin').value;
            const featuredFilter = document.getElementById('featuredFilterAdmin').value;
            
            isFiltered = searchText || categoryFilter || statusFilter || featuredFilter;
            
            filteredJobs = jobs.filter(job => {
                const matchesSearch = !searchText || 
                    (job.title && job.title.toLowerCase().includes(searchText)) ||
                    (job.company && job.company.toLowerCase().includes(searchText)) ||
                    (job.description && job.description.toLowerCase().includes(searchText)) ||
                    (job.jobNumber && job.jobNumber.toString().includes(searchText)) ||
                    (job.city && job.city.toLowerCase().includes(searchText));
                
                const matchesCategory = !categoryFilter || job.category === categoryFilter;
                const matchesStatus = !statusFilter || job.status === statusFilter;
                const matchesFeatured = !featuredFilter || 
                    (featuredFilter === 'true' && job.featured) ||
                    (featuredFilter === 'false' && !job.featured);
                
                return matchesSearch && matchesCategory && matchesStatus && matchesFeatured;
            });
        }

        function clearJobsFilters() {
            document.getElementById('searchJobsInput').value = '';
            document.getElementById('categoryFilterAdmin').value = '';
            document.getElementById('statusFilterAdmin').value = '';
            document.getElementById('featuredFilterAdmin').value = '';
            
            isFiltered = false;
            filteredJobs = [...jobs];
            selectedJobs.clear();
            currentPage = 1;
            displayJobsAdvanced();
        }

        // 驻注转 专转
        function openBulkModal() {
            if (selectedJobs.size === 0) {
                showNotification('砖 专 驻转 砖专 转', 'warning');
                return;
            }
            
            document.getElementById('selectedCount').textContent = selectedJobs.size;
            document.getElementById('bulk-modal').style.display = 'block';
        }

        function closeBulkModal() {
            document.getElementById('bulk-modal').style.display = 'none';
        }

        function bulkAction(action) {
            if (selectedJobs.size === 0) {
                showNotification(' 专 砖专转', 'warning');
                return;
            }
            
            let message = '';
            let confirmMessage = '';
            
            switch (action) {
                case 'activate':
                    selectedJobs.forEach(index => {
                        jobs[index].status = '驻注';
                    });
                    message = `${selectedJobs.size} 砖专转 驻注`;
                    break;
                    
                case 'deactivate':
                    selectedJobs.forEach(index => {
                        jobs[index].status = ' 驻注';
                    });
                    message = `${selectedJobs.size} 砖专转 砖转`;
                    break;
                    
                case 'feature':
                    selectedJobs.forEach(index => {
                        jobs[index].featured = true;
                    });
                    message = `${selectedJobs.size} 砖专转 住 爪转`;
                    break;
                    
                case 'unfeature':
                    selectedJobs.forEach(index => {
                        jobs[index].featured = false;
                    });
                    message = `${selectedJobs.size} 砖专转  爪转`;
                    break;
                    
                case 'delete':
                    confirmMessage = ` 转  砖专爪 拽 ${selectedJobs.size} 砖专转?`;
                    if (!confirm(confirmMessage)) {
                        return;
                    }
                    
                    // 拽 驻 住专 驻   砖砖 拽住
                    const sortedIndexes = Array.from(selectedJobs).sort((a, b)=> b - a);
                    sortedIndexes.forEach(index => {
                        jobs.splice(index, 1);
                    });
                    
                    selectedJobs.clear();
                    message = `${sortedIndexes.length} 砖专转 拽`;
                    break;
            }
            
            saveJobsAdvanced();
            closeBulkModal();
            showNotification(message, 'success');
        }

        //  爪 转拽
        function openImportModal() {
            document.getElementById('import-modal').style.display = 'block';
        }

        function closeImportModal() {
            document.getElementById('import-modal').style.display = 'none';
            document.getElementById('file-input').value = '';
        }

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            showLoading();
            console.log(' 拽抓 专:', file.name, file.type);
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                try {
                    if (file.name.endsWith('.csv')) {
                        parseCSVAdvanced(e.target.result);
                    } else if (file.name.endsWith('.json')) {
                        parseJSONAdvanced(e.target.result);
                    } else if (file.name.endsWith('.xlsx') || file.name.endsWith('.xls')) {
                        parseExcelAdvanced(e.target.result);
                    } else {
                        throw new Error('驻专 拽抓  转');
                    }
                } catch (error) {
                    console.error(' 砖 注 拽抓:', error);
                    showNotification('砖 注 拽抓: ' + error.message, 'error');
                } finally {
                    hideLoading();
                }
            };
            
            if (file.name.endsWith('.xlsx') || file.name.endsWith('.xls')) {
                reader.readAsArrayBuffer(file);
            } else {
                reader.readAsText(file, 'UTF-8');
            }
        }

        function parseCSVAdvanced(csvText) {
            const lines = csvText.split('\n').filter(line => line.trim());
            if (lines.length < 2) {
                throw new Error('拽抓   驻转 砖专转 转专转 砖专 转 砖 转');
            }
            
            const headers = parseCSVLine(lines[0]);
            const dataLines = lines.slice(1);
            const data = dataLines.map(line => {
                const values = parseCSVLine(line);
                const row = {};
                headers.forEach((header, index) => {
                    row[header] = values[index] || '';
                });
                return row;
            }).filter(row => Object.values(row).some(val => val.trim()));
            
            openMappingModalAdvanced(headers, data);
        }

        function parseJSONAdvanced(jsonData) {
            const parsedData = JSON.parse(jsonData);
            let dataArray = Array.isArray(parsedData) ? parsedData : [parsedData];
            
            if (dataArray.length === 0) {
                throw new Error('拽抓 JSON 专拽    转');
            }
            
            const allKeys = new Set();
            dataArray.forEach(item => {
                if (typeof item === 'object' && item !== null) {
                    Object.keys(item).forEach(key => allKeys.add(key));
                }
            });
            
            const headers = Array.from(allKeys);
            const data = dataArray.map(item => {
                const row = {};
                headers.forEach(header => {
                    row[header] = item[header] || '';
                });
                return row;
            });
            
            openMappingModalAdvanced(headers, data);
        }

        function parseExcelAdvanced(arrayBuffer) {
            // Note: This would require the SheetJS library to be loaded
            showNotification('转 拽爪 Excel 转转住祝 专住 ', 'warning');
        }

        function parseCSVLine(line) {
            const result = [];
            let current = '';
            let inQuotes = false;
            
            for (let i = 0; i < line.length; i++) {
                const char = line[i];
                
                if (char === '"') {
                    inQuotes = !inQuotes;
                } else if (char === ',' && !inQuotes) {
                    result.push(current.trim());
                    current = '';
                } else {
                    current += char;
                }
            }
            
            result.push(current.trim());
            return result;
        }

        //  驻 转拽
        function openMappingModalAdvanced(headers, data) {
            csvHeaders = headers;
            csvData = data;
            
            const container = document.getElementById('mapping-container');
            const preview = document.getElementById('mapping-preview');
            
            // 爪转 转爪 拽
            preview.innerHTML = `
                <h4 style="color: #F69898; margin-bottom: 10px;">
                    <i class="fas fa-eye"></i>
                    转爪 拽
                </h4>
                <p><strong>爪 ${headers.length} 注转 -${data.length} 砖专转 转</strong></p>
                <p style="color: #ccc;">注转: ${headers.join(', ')}</p>
            `;
            
            container.innerHTML = '';
            
            const mappingGrid = document.createElement('div');
            mappingGrid.style.display = 'grid';
            mappingGrid.style.gridTemplateColumns = 'repeat(auto-fit, minmax(300px, 1fr))';
            mappingGrid.style.gap = '15px';
            
            Object.keys(systemFields).forEach(fieldKey => {
                const mappingItem = document.createElement('div');
                mappingItem.style.background = '#2a2a2a';
                mappingItem.style.padding = '15px';
                mappingItem.style.borderRadius = '10px';
                mappingItem.style.border = '1px solid #444';
                
                //   砖 转
                const suggestedHeader = autoDetectMapping(fieldKey, headers);
                
                mappingItem.innerHTML = `
                    <label class="form-label" style="color: #F69898; margin-bottom: 8px;">
                        ${systemFields[fieldKey]}
                        ${['title', 'company', 'city', 'region'].includes(fieldKey) ? ' <span style="color: #F69898;">*</span>' : ''}
                    </label>
                    <select class="form-input" data-field="${fieldKey}">
                        <option value="">-- 专 注 拽抓 --</option>
                        ${headers.map(header => 
                            `<option value="${header}" ${header === suggestedHeader ? 'selected' : ''}>${header}</option>`
                        ).join('')}
                    </select>
                    ${suggestedHeader ? `<div style="color: #28a745; font-size: 0.8rem; margin-top: 4px;">
                        <i class="fas fa-check"></i>  转
                    </div>` : ''}
                `;
                
                mappingGrid.appendChild(mappingItem);
            });
            
            container.appendChild(mappingGrid);
            
            closeImportModal();
            document.getElementById('mapping-modal').style.display = 'block';
        }

        //   砖 驻
        function autoDetectMapping(fieldKey, headers) {
            const mappings = {
                'jobNumber': ['住驻专 砖专', 'job number', 'id', '住驻专', 'number'],
                'title': ['转专转', 'title', '转驻拽', 'position', 'job title'],
                'company': ['专', 'company', 'employer', '注住拽'],
                'category': ['拽专', 'category', '转', 'field'],
                'city': ['注专', 'city', '拽', 'location'],
                'region': ['专', 'region', 'area', ''],
                'jobType': ['住 砖专', 'job type', 'type', '住'],
                'status': ['住住', 'status', '爪', 'state'],
                'description': ['转专', 'description', 'desc', '驻专'],
                'requirements': ['专砖转', 'requirements', 'req', '砖专'],
                'featured': ['爪转', 'featured', 'highlighted', '爪转']
            };
            
            const keywords = mappings[fieldKey] || [];
            
            return headers.find(header => 
                keywords.some(keyword => 
                    header.toLowerCase().includes(keyword.toLowerCase())
                )
            );
        }

        function closeMappingModal() {
            document.getElementById('mapping-modal').style.display = 'none';
            csvData = null;
            csvHeaders = [];
        }

        function applyMapping() {
            const selects = document.querySelectorAll('#mapping-container select');
            const mapping = {};
            
            selects.forEach(select => {
                const field = select.getAttribute('data-field');
                const column = select.value;
                if (column) {
                    mapping[field] = column;
                }
            });
            
            if (!mapping.title && !mapping.company) {
                showNotification('砖 驻转 驻转 转 砖 转专转  专', 'warning');
                return;
            }
            
            const setAllFeatured = document.getElementById('setAllFeatured').checked;
            const autoActivate = document.getElementById('autoActivate').checked;
            
            const jobsData = csvData.map(row => {
                const job = {};
                Object.keys(mapping).forEach(field => {
                    const column = mapping[field];
                    job[field] = row[column] ? row[column].trim() : '';
                });
                
                // 专转 专专转 
                if (!job.status) job.status = autoActivate ? '驻注' : ' 驻注';
                if (!job.category) job.category = '专';
                if (!job.region) job.region = '专';
                if (!job.jobType) job.jobType = '砖专 ';
                if (!job.jobNumber) job.jobNumber = generateJobNumber();
                job.featured = setAllFeatured;
                
                return job;
            });
            
            const validJobs = jobsData.filter(job => 
                (job.title && job.title.trim()) || 
                (job.company && job.company.trim())
            );
            
            if (validJobs.length === 0) {
                showNotification(' 爪 砖专转 转拽转 ', 'error');
                return;
            }
            
            const shouldReplace = validJobs.length > 10 ? 
                confirm(`爪 ${validJobs.length} 砖专转 .\n 祝 转  砖专转 拽转?`) :
                !confirm(`爪 ${validJobs.length} 砖专转 .\n 住祝 转 砖专转 拽转?`);
            
            if (shouldReplace) {
                jobs = [...validJobs];
            } else {
                jobs = [...jobs, ...validJobs];
            }
            
            saveJobsAdvanced();
            closeMappingModal();
            
            showNotification(
                `${validJobs.length} 砖专转  爪!${setAllFeatured ? ' ( 爪转)' : ''}`,
                'success'
            );
        }

        // 爪 转拽
        function exportJobs() {
            if (jobs.length === 0) {
                showNotification(' 砖专转 爪', 'warning');
                return;
            }
            
            const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(jobs, null, 2));
            const downloadAnchorNode = document.createElement('a');
            downloadAnchorNode.setAttribute("href", dataStr);
            downloadAnchorNode.setAttribute("download", `jobs_export_${new Date().toISOString().split('T')[0]}.json`);
            document.body.appendChild(downloadAnchorNode);
            downloadAnchorNode.click();
            downloadAnchorNode.remove();
            
            showNotification('拽抓 砖专转 爪 爪', 'success');
        }

        function exportForGitHub() {
            if (jobs.length === 0) {
                showNotification(' 砖专转 爪', 'warning');
                return;
            }
            
            const jobsJson = JSON.stringify(jobs, null, 2);
            const blob = new Blob([jobsJson], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const downloadLink = document.createElement('a');
            downloadLink.href = url;
            downloadLink.download = 'jobs.json';
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
            
            URL.revokeObjectURL(url);
            
            showNotification('拽抓 -GitHub 爪 - 注拽 专 专转', 'success');
            
            // 爪转 转 驻专转
            setTimeout(() => {
                alert(`拽抓 jobs.json 专 爪!

转 注 GitHub:
1. 住 -GitHub.com
2.  拽抓: data.js/jobs(1).json
3. 抓 注 "Edit" (注驻专)
4. 拽 转  转 拽
5. 注转拽 拽 转 转 拽抓 砖
6. 抓 "Commit changes"
7. 转 2-3 拽转 住专

 专 注 转专 转注 转!`);
            }, 1000);
        }

        function downloadAdvancedTemplate() {
            const csvContent = `住驻专 砖专,转专转,专,拽专,注专,专,住 砖专,住住,转专,专砖转,爪转
JOB001,"驻转/转 Full Stack","专转 拽 注状","驻转 转","转 ","专","砖专 ","驻注","驻转 驻拽爪转 转拽转","React | Node.js | 3+ 砖转 住",""
JOB002,"/转 专转","专转 砖拽","砖拽 专转","驻","爪驻","砖专 ","驻注"," 爪转 专转","住  | 转 专",""
JOB003,"专 转","转 住驻专"," 专","专砖","专砖 住","砖专 拽转","驻注","专转 转 转","转专 专 | 转 专 ",""`;
            
            const blob = new Blob(['\ufeff' + csvContent], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.setAttribute('href', url);
            link.setAttribute('download', 'template_advanced.csv');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            
            showNotification('转转 转拽转 专 爪', 'success');
        }

        // 专 住专 转拽
        function startSyncMonitoring() {
            updateSyncPanel();
            
            // 注  30 砖转
            if (syncInterval) clearInterval(syncInterval);
            syncInterval = setInterval(() => {
                updateSyncPanel();
                checkSystemsSync();
            }, 30000);
        }

        function updateSyncPanel() {
            const now = new Date();
            
            // 注 
            const lastUpdate = localStorage.getItem('jobs_last_updated');
            const lastCheck = localStorage.getItem('last_sync_check');
            
            document.getElementById('lastUpdate').textContent = lastUpdate ? 
                formatDateTime(lastUpdate) : ' 注';
            document.getElementById('lastCheck').textContent = lastCheck ? 
                formatDateTime(lastCheck) : ' 注';
            
            // 拽转 住住 注专转
            updateSyncStatus('localStorage', !!localStorage.getItem('jobs'));
            updateSyncStatus('website', !!localStorage.getItem('website_jobs'));
        }

        function updateSyncStatus(system, isConnected, lastUpdate = null) {
            const statusElements = {
                'localStorage': 'websiteSync',
                'website': 'websiteSync', 
                'github': 'githubSync'
            };
            
            const elementId = statusElements[system];
            if (!elementId) return;
            
            const element = document.getElementById(elementId);
            if (!element) return;
            
            if (isConnected) {
                element.innerHTML = '<i class="fas fa-check-circle" style="color: #28a745;"></i> 专';
                if (lastUpdate) {
                    element.innerHTML += ` <small>(${formatDateTime(lastUpdate)})</small>`;
                }
            } else {
                element.innerHTML = '<i class="fas fa-exclamation-triangle" style="color: #ffc107;"></i>  专';
            }
            
            // 注  专砖
            updateMainSyncIndicator();
        }

        function updateMainSyncIndicator() {
            const indicator = document.getElementById('syncIndicator');
            const text = document.getElementById('syncText');
            
            const localOk = !!localStorage.getItem('jobs');
            const websiteOk = !!localStorage.getItem('website_jobs');
            
            if (localOk && websiteOk) {
                indicator.className = 'sync-indicator';
                text.textContent = '住专';
            } else {
                indicator.className = 'sync-indicator error';
                text.textContent = '砖转 住专';
            }
        }

        function checkSystemsSync() {
            // 拽  爪专 住专 注 GitHub
            const lastGitHubCheck = localStorage.getItem('last_github_check');
            const now = new Date();
            
            if (!lastGitHubCheck || (now - new Date(lastGitHubCheck)) > 5 * 60 * 1000) {
                // 拽  5 拽转
                fetch('https://raw.githubusercontent.com/kerenraf/mahyeshpo-website/main/data.js/jobs(1).json')
                    .then(response => response.ok ? response.json() : Promise.reject())
                    .then(githubJobs => {
                        updateSyncStatus('github', true);
                        localStorage.setItem('last_github_check', now.toISOString());
                        
                        // 砖 注 转 拽
                        if (githubJobs.length !== jobs.length) {
                            showNotification(` 砖 -GitHub: ${githubJobs.length} 砖专转`, 'warning');
                        }
                    })
                    .catch(() => {
                        updateSyncStatus('github', false);
                        localStorage.setItem('last_github_check', now.toISOString());
                    });
            }
        }

        function syncAllSystems() {
            showNotification('转 住专 ...', 'warning');
            showLoading();
            
            Promise.all([
                syncWithMainWebsite(),
                loadJobsAdvanced()
            ]).then(() => {
                updateSyncPanel();
                showNotification('住专  砖 爪!', 'success');
            }).catch(error => {
                console.error('砖 住专:', error);
                showNotification('砖 住专 注专转', 'error');
            }).finally(() => {
                hideLoading();
            });
        }

        // 驻拽爪转 注专
        function formatDateTime(isoString) {
            try {
                const date = new Date(isoString);
                const today = new Date();
                const isToday = date.toDateString() === today.toDateString();
                
                if (isToday) {
                    return ` ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;
                } else {
                    return `${date.getDate().toString().padStart(2, '0')}/${(date.getMonth()+1).toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;
                }
            } catch (e) {
                return '转专  转拽';
            }
        }

        // 注转 转拽转
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const textElement = document.getElementById('notificationText');
            
            // 拽 驻 住 注
            const icons = {
                'success': 'fas fa-check-circle',
                'error': 'fas fa-exclamation-triangle', 
                'warning': 'fas fa-exclamation-circle'
            };
            
            notification.className = `notification ${type}`;
            textElement.innerHTML = `<i class="${icons[type]}"></i> ${message}`;
            notification.style.display = 'block';
            
            // 住转专 转
            setTimeout(() => {
                notification.style.display = 'none';
            }, type === 'error' ? 5000 : 3000);
        }

        function showLoading() {
            document.getElementById('loadingOverlay').style.display = 'flex';
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').style.display = 'none';
        }

        // 驻拽爪转 转拽转 住驻转
        function manageCategories() {
            const categories = [...new Set(jobs.map(job => job.category).filter(Boolean))].sort();
            const newCategory = prompt(`拽专转 拽转:\n${categories.join(', ')}\n\n住祝 拽专 砖:`);
            
            if (newCategory && newCategory.trim()) {
                showNotification(`拽专 "${newCategory.trim()}" 住驻`, 'success');
                // 驻转  转 住祝  转拽 转专
            }
        }

        function bulkActions() {
            if (selectedJobs.size === 0) {
                showNotification('专 砖专转 拽', 'warning');
                return;
            }
            openBulkModal();
        }

        // 拽转 转转 URL 爪转 砖拽 
        function checkUrlForAdmin() {
            const hash = window.location.hash;
            const path = window.location.pathname;
            
            if (hash === '#admin' || path.includes('admin.html') || path.includes('admin')) {
                if (sessionStorage.getItem('adminAuthenticated') === 'true') {
                    document.getElementById('adminLoginSection').style.display = 'none';
                    document.getElementById('adminContentSection').style.display = 'block';
                    document.getElementById('backToSite').style.display = 'block';
                    initializeAdminSystem();
                } else {
                    document.getElementById('adminLoginSection').style.display = 'flex';
                    document.getElementById('adminContentSection').style.display = 'none';
                }
                return true;
            }
            return false;
        }

        // 转 驻拽爪
        document.addEventListener('DOMContentLoaded', function() {
            // 拽转 转
            if (!checkUrlForAdmin()) {
                //   住 专 转 , 拽 转
                if (sessionStorage.getItem('adminAuthenticated') === 'true') {
                    document.getElementById('adminLoginSection').style.display = 'none';
                    document.getElementById('adminContentSection').style.display = 'block';
                    document.getElementById('backToSite').style.display = 'block';
                    initializeAdminSystem();
                } else {
                    document.getElementById('adminLoginSection').style.display = 'flex';
                    document.getElementById('adminContentSection').style.display = 'none';
                }
            }
            
            //  拽砖 Enter 砖 住住
            document.getElementById('adminPassword').addEventListener('keyup', function(event) {
                if (event.key === 'Enter') {
                    checkAdminPassword();
                }
            });
            
            // 转 -Drag & Drop 
            const fileUpload = document.querySelector('.file-upload');
            if (fileUpload) {
                fileUpload.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.style.borderColor = '#ff9e9e';
                    this.style.background = 'linear-gradient(135deg, rgba(246,152,152,0.2), rgba(246,152,152,0.3))';
                });
                
                fileUpload.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    this.style.borderColor = '#F69898';
                    this.style.background = 'linear-gradient(135deg, rgba(246,152,152,0.05), rgba(246,152,152,0.1))';
                });
                
                fileUpload.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.style.borderColor = '#F69898';
                    this.style.background = 'linear-gradient(135deg, rgba(246,152,152,0.05), rgba(246,152,152,0.1))';
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        document.getElementById('file-input').files = files;
                        handleFileUpload({ target: { files: files } });
                    }
                });
            }
        });

        // 住专转  爪 抓 转
        window.addEventListener('click', function(event) {
            const modals = ['import-modal', 'mapping-modal', 'job-edit-modal', 'bulk-modal'];
            modals.forEach(modalId => {
                const modal = document.getElementById(modalId);
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        });

        //  拽砖 ESC
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const modals = ['import-modal', 'mapping-modal', 'job-edit-modal', 'bulk-modal'];
                modals.forEach(modalId => {
                    const modal = document.getElementById(modalId);
                    if (modal.style.display === 'block') {
                        modal.style.display = 'none';
                    }
                });
            }
        });

        //  砖 -URL
        window.addEventListener('hashchange', function() {
            checkUrlForAdmin();
        });

        // 驻拽爪转 转
        window.showLoginForm = showLoginForm;
        window.checkAdminPassword = checkAdminPassword;
        window.openImportModal = openImportModal;
        window.closeImportModal = closeImportModal;
        window.handleFileUpload = handleFileUpload;
        window.openMappingModalAdvanced = openMappingModalAdvanced;
        window.closeMappingModal = closeMappingModal;
        window.applyMapping = applyMapping;
        window.openAddJobModal = openAddJobModal;
        window.closeEditModal = closeEditModal;
        window.saveJob = saveJob;
        window.toggleFeatured = toggleFeatured;
        window.editJobAdvanced = editJobAdvanced;
        window.viewJobAdvanced = viewJobAdvanced;
        window.deleteJobAdvanced = deleteJobAdvanced;
        window.toggleJobSelection = toggleJobSelection;
        window.toggleSelectAll = toggleSelectAll;
        window.toggleJobFeatured = toggleJobFeatured;
        window.filterJobsList = filterJobsList;
        window.clearJobsFilters = clearJobsFilters;
        window.openBulkModal = openBulkModal;
        window.closeBulkModal = closeBulkModal;
        window.bulkAction = bulkAction;
        window.exportJobs = exportJobs;
        window.exportForGitHub = exportForGitHub;
        window.downloadAdvancedTemplate = downloadAdvancedTemplate;
        window.manageCategories = manageCategories;
        window.bulkActions = bulkActions;
        window.syncAllSystems = syncAllSystems;

        console.log(' 注专转  转拽转 注 爪!');
    </script>
</body>
</html>

---

##  爪 住 注专转 ?

砖 **3 专** 住 注专转 :

### **专 1: 专 转专 专砖**
1. 住 转专 专砖 砖
2. 转专 驻转专 爪 注 注 住 注 
3. 抓 注 驻转专
4. 住 转 住住: `yarin080708`

### **专 2: 转转 砖专**
1. 砖 转转: `yoursite.com/admin.html`
2.  砖专 转 拽抓 砖 `admin.html` 转专 砖
3. 住 转 住住: `yarin080708`

### **专 3: 专 -Hash**
1. 住祝 `#admin` 转转 转专
2. 砖: `yoursite.com/#admin`
3. 住 转 住住: `yarin080708`

---

## 锔  转 注砖转 注专转 ?

### ** 砖专转 转拽:**
-  住驻, 注专 拽 砖 砖专转
- 猸 住 砖专转 爪转
-  驻砖 住 转拽
-  驻注转 专转 注 砖专转

### ** 爪:**
-   砖专转 拽爪 CSV/JSON
-  驻  砖 砖转
-  爪 拽爪
-  注 GitHub 砖专

### **住专 注专转:**
-  住专  注 转专 专砖
-  拽转 注 -GitHub
-  注拽 专 住住拽转
-  专  转

---

##   注专转 注转?

1. **注专转 ** 砖专转 转 砖专转 -`localStorage`
2. **住专 ** 注 转专 专砖
3. **注 GitHub**  驻 爪专
4. **转专 专砖** 注 转 -GitHub

注专转  砖砖专转 转  注转  拽转! 
