<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מה יש פה? - ניהול משרות</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/animations.css">
</head>
<body>
    <!-- כותרת עליונה -->
    <header class="header">
        <div class="container">
            <div class="header-inner">
                <div class="logo">
                    <img src="images/logo.png" alt="מה יש פה? לוגו" />
                </div>
                
                <button class="mobile-menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                
                <nav class="main-nav" id="mainNav">
                    <ul>
                        <li><a href="index.html">דף הבית</a></li>
                        <li><a href="job-management.html" class="active">ניהול משרות</a></li>
                        <li><a href="index.html#contact">צור קשר</a></li>
                        <li><a href="terms.html">תקנון אתר</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- תוכן ראשי -->
    <main class="container">
        <h1 class="page-title">ניהול משרות</h1>
        
        <!-- כלי ניהול -->
        <section class="admin-section fade-up">
            <h2 class="admin-title">כלי ניהול</h2>
            <div class="admin-grid">
                <div class="admin-card fade-up delay-1" onclick="openImportModal()">
                    <div class="admin-icon"><i class="fas fa-file-import"></i></div>
                    <div class="admin-card-title">ייבוא משרות</div>
                    <div class="admin-card-desc">ייבא משרות מקובץ CSV או JSON</div>
                </div>
                
                <div class="admin-card fade-up delay-2" onclick="openAddJobModal()">
                    <div class="admin-icon"><i class="fas fa-plus-circle"></i></div>
                    <div class="admin-card-title">הוספת משרה</div>
                    <div class="admin-card-desc">הוסף משרה חדשה באופן ידני</div>
                </div>
                
                <div class="admin-card fade-up delay-3" onclick="exportJobs()">
                    <div class="admin-icon"><i class="fas fa-file-export"></i></div>
                    <div class="admin-card-title">ייצוא משרות</div>
                    <div class="admin-card-desc">ייצא משרות לקובץ CSV או Excel</div>
                </div>
                
                <div class="admin-card fade-up delay-4" onclick="location.href='index.html'">
                    <div class="admin-icon"><i class="fas fa-eye"></i></div>
                    <div class="admin-card-title">צפייה באתר</div>
                    <div class="admin-card-desc">עבור לדף הראשי של האתר</div>
                </div>
            </div>
        </section>
        
        <!-- רשימת משרות -->
        <section class="jobs-list-section fade-up">
            <h2 class="admin-title">רשימת משרות</h2>
            
            <div class="search-filters">
                <input type="text" class="form-control" id="searchJobsInput" placeholder="חיפוש חופשי...">
                
                <select class="form-control" id="categoryFilterAdmin">
                    <option value="">כל הקטגוריות</option>
                    <option value="מזון ומסעדנות">מזון ומסעדנות</option>
                    <option value="חינוך והוראה">חינוך והוראה</option>
                    <option value="פיתוח ותוכנה">פיתוח ותוכנה</option>
                    <option value="מחשבים ורשתות תקשורת">מחשבים ורשתות</option>
                    <option value="עולם הרכבים והליסינג">רכבים וליסינג</option>
                    <option value="שיווק ומכירות">שיווק ומכירות</option>
                    <option value="בריאות ורפואה">בריאות ורפואה</option>
                    <option value="אחר">אחר</option>
                </select>
                
                <select class="form-control" id="statusFilterAdmin">
                    <option value="">כל הסטטוסים</option>
                    <option value="פעיל">פעיל</option>
                    <option value="לא פעיל">לא פעיל</option>
                </select>
            </div>
            
            <div class="filter-buttons">
                <div class="search-button-container">
                    <button class="btn" onclick="filterJobsList()">
                        חיפוש
                    </button>
                    <div class="gnome-character gnome-search">
                        <img src="images/gnome.png" alt="גמדה מחפשת">
                        <div class="gnome-tooltip">לחצו כאן לחיפוש!</div>
                    </div>
                </div>
                <button class="btn btn-secondary" onclick="clearJobsFilters()">נקה</button>
            </div>
            
            <div class="table-container">
                <table class="jobs-table" id="jobsTable">
                    <thead>
                        <tr>
                            <th style="width: 80px;">מס' משרה</th>
                            <th>כותרת</th>
                            <th>חברה</th>
                            <th>קטגוריה</th>
                            <th>מיקום</th>
                            <th>סטטוס</th>
                            <th style="width: 180px;">פעולות</th>
                        </tr>
                    </thead>
                    <tbody id="jobsTableBody">
                        <!-- Will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div class="pagination" id="jobsPagination">
                <!-- Will be populated by JavaScript -->
            </div>
        </section>
    </main>
    
    <!-- מודל ייבוא משרות -->
    <div id="import-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ייבא משרות מקובץ</h3>
                <div class="modal-gnome-container">
                    <div class="gnome-character modal-gnome">
                        <img src="images/gnome.png" alt="גמדה עוזרת בייבוא">
                        <div class="gnome-tooltip">אני יכולה לעזור לך לייבא משרות!</div>
                    </div>
                    <span class="close" onclick="closeImportModal()">&times;</span>
                </div>
            </div>

            <div id="login-section">
                <div class="login-form">
                    <h4 class="login-title">גישה למערכת ניהול</h4>
                    <div class="form-group">
                        <label class="form-label">סיסמה</label>
                        <input type="password" id="password" class="form-control">
                    </div>
                    <button class="btn login-button" onclick="checkLogin()">כניסה</button>
                </div>
            </div>
            
            <div id="import-section" style="display: none;" class="import-section">
                <p>העלה קובץ CSV או JSON עם רשימת המשרות שלך</p>
                
                <div class="file-upload" onclick="document.getElementById('file-input').click()">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">📁</div>
                    <p><strong>לחץ כאן להעלאת קובץ</strong></p>
                    <p>תומך בקבצי CSV ו-JSON</p>
                </div>
                
                <input type="file" id="file-input" accept=".csv,.json" style="display: none;" onchange="handleFileUpload(event)">
                
                <div class="file-info">
                    <h4>פורמט נתמך:</h4>
                    <p><strong>CSV:</strong> עם כותרות בעברית או אנגלית</p>
                    <p><strong>JSON:</strong> מערך של אובייקטי משרות</p>
                    
                    <h4>שדות נתמכים:</h4>
                    <p>מספר משרה, כותרת, חברה, קטגוריה, עיר, אזור, סוג משרה, תיאור, דרישות</p>
                </div>
                
                <button class="btn" onclick="downloadTemplate()">הורד תבנית CSV</button>
            </div>
        </div>
    </div>
    
    <!-- מודל הוספת/עריכת משרה -->
    <div id="job-edit-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="edit-modal-title" class="modal-title">הוספת משרה חדשה</h3>
                <div class="modal-gnome-container">
                    <div class="gnome-character modal-gnome">
                        <img src="images/gnome.png" alt="גמדה עוזרת בעריכה">
                        <div class="gnome-tooltip">אני אעזור לך להוסיף משרה!</div>
                    </div>
                    <span class="close" onclick="closeEditModal()">&times;</span>
                </div>
            </div>
            
            <form id="job-edit-form" onsubmit="return saveJob(event)">
                <input type="hidden" id="edit-job-id">
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">מספר משרה</label>
                        <input type="text" id="edit-job-number" class="form-input">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">כותרת משרה <span class="form-required">*</span></label>
                        <input type="text" id="edit-job-title" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">חברה <span class="form-required">*</span></label>
                        <input type="text" id="edit-job-company" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">קטגוריה</label>
                        <select id="edit-job-category" class="form-input">
                            <option value="מזון ומסעדנות">מזון ומסעדנות</option>
                            <option value="חינוך והוראה">חינוך והוראה</option>
                            <option value="פיתוח ותוכנה">פיתוח ותוכנה</option>
                            <option value="מחשבים ורשתות תקשורת">מחשבים ורשתות</option>
                            <option value="עולם הרכבים והליסינג">רכבים וליסינג</option>
                            <option value="שיווק ומכירות">שיווק ומכירות</option>
                            <option value="בריאות ורפואה">בריאות ורפואה</option>
                            <option value="אחר">אחר</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">עיר</label>
                        <input type="text" id="edit-job-city" class="form-input">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">אזור</label>
                        <select id="edit-job-region" class="form-input">
                            <option value="מרכז">מרכז</option>
                            <option value="צפון">צפון</option>
                            <option value="חיפה">חיפה וקריות</option>
                            <option value="ירושלים">ירושלים והסביבה</option>
                            <option value="דרום">דרום</option>
                            <option value="שרון">שרון</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">סוג משרה</label>
                        <select id="edit-job-type" class="form-input">
                            <option value="משרה מלאה">משרה מלאה</option>
                            <option value="משרה חלקית">משרה חלקית</option>
                            <option value="סטודנט">סטודנט</option>
                            <option value="פרילנס">פרילנס</option>
                            <option value="אחר">אחר</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">סטטוס</label>
                        <select id="edit-job-status" class="form-input">
                            <option value="פעיל">פעיל</option>
                            <option value="לא פעיל">לא פעיל</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">תיאור המשרה <span class="form-required">*</span></label>
                    <textarea id="edit-job-description" class="form-input" rows="5" required></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">דרישות התפקיד</label>
                    <textarea id="edit-job-requirements" class="form-input" rows="5"></textarea>
                    <p class="form-help">הפרד בין דרישות שונות באמצעות ירידת שורה</p>
                </div>
                
                <div class="form-buttons">
                    <button type="button" class="btn btn-secondary" onclick="closeEditModal()">ביטול</button>
                    <button type="submit" class="btn">שמור משרה</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- אלמנט הגמדה הצפה -->
    <div class="gnome-float pulse" onclick="scrollToTop()" id="floatingGnome">
        <img src="images/gnome.png" alt="גמדה עוזרת">
        <div class="gnome-tooltip">לחזרה לראש הדף!</div>
    </div>
    
    <!-- כותרת תחתונה -->
    <footer class="footer">
        <div class="container">
            <img src="images/logo.png" alt="מה יש פה?" class="footer-logo">
            
            <div class="footer-links">
                <a href="index.html" class="footer-link">דף הבית</a>
                <a href="job-management.html" class="footer-link">ניהול משרות</a>
                <a href="index.html#search" class="footer-link">חיפוש משרות</a>
                <a href="index.html#contact" class="footer-link">צור קשר</a>
                <a href="terms.html" class="footer-link">תקנון אתר</a>
                <a href="#" class="footer-link">מדיניות פרטיות</a>
            </div>
            
            <div class="footer-social">
                <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                <a href="#" class="social-icon"><i class="fab fa-whatsapp"></i></a>
            </div>
            
            <p class="copyright">© 2025 מה יש פה? - כל הזכויות שמורות</p>
        </div>
    </footer>

    <!-- סקריפטים -->
    <script src="js/main.js"></script>
    <script src="js/management.js"></script>
</body>
</html>
