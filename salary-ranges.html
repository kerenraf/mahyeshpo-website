<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <!-- קידוד תווים ותצוגה -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- כותרת הדף -->
    <title>טווחי שכר במשק הישראלי 2025 | מה יש פה? - השוואת משכורות מעודכנת</title>
    
    <!-- תיאור הדף -->
    <meta name="description" content="📊 טווחי שכר מעודכנים לכל המקצועות בישראל 2025 | השוואת משכורות: פיתוח, מכירות, חינוך, בריאות ועוד | נתונים אמינים מהלמ״ס">
    
    <!-- מילות מפתח -->
    <meta name="keywords" content="טווחי שכר, משכורות ישראל, שכר ממוצע, השוואת משכורות, שכר פיתוח, שכר מכירות, שכר חינוך, נתוני שכר 2025">
    
    <!-- נתונים לשיתוף ברשתות חברתיות -->
    <meta property="og:title" content="טווחי שכר במשק הישראלי 2025 - מה יש פה?">
    <meta property="og:description" content="📊 השוואת משכורות מעודכנת לכל המקצועות | נתונים אמינים על שכר ממוצע בישראל">
    <meta property="og:image" content="https://mayeshpo.co.il/images/salary-ranges-og.jpg">
    <meta property="og:url" content="https://mayeshpo.co.il/salary-ranges.html">
    <meta property="og:type" content="website">
    
    <!-- נתונים לטוויטר -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="טווחי שכר במשק הישראלי 2025">
    <meta name="twitter:description" content="📊 השוואת משכורות מעודכנת לכל המקצועות בישראל">
    <meta name="twitter:image" content="https://mayeshpo.co.il/images/salary-ranges-og.jpg">
    
    <!-- נתונים מובנים לגוגל -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "טווחי שכר במשק הישראלי 2025",
        "description": "נתונים מעודכנים על טווחי שכר במקצועות שונים בישראל",
        "url": "https://mayeshpo.co.il/salary-ranges.html",
        "publisher": {
            "@type": "Organization",
            "name": "מה יש פה?",
            "url": "https://mayeshpo.co.il"
        },
        "dateModified": "2025-01-01",
        "inLanguage": "he"
    }
    </script>
    
    <!-- אייקון הדף -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>💰</text></svg>">
    
    <!-- כתובת האתר הרשמית -->
    <link rel="canonical" href="https://mayeshpo.co.il/salary-ranges.html">
    
    <!-- קישור לעיצובים -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BE72BL38KJ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-BE72BL38KJ');
    </script>
    
    <!-- טעינה מהירה -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;600;700&family=Heebo:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #F69898;
            --primary-hover: #e58080;
            --dark-bg: #333333;
            --darker-bg: #222222;
            --text-light: #ffffff;
            --text-muted: #cccccc;
            --border-radius: 12px;
            --transition: all 0.3s ease;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --gold-color: #FFD700;
            --gold-hover: #FFA500;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Assistant', 'Heebo', 'Open Sans Hebrew', Arial, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #000 0%, #1a1a1a 100%);
            color: white;
            direction: rtl;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            border-bottom: 2px solid var(--primary-color);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.5);
        }

        .header-inner {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            color: var(--primary-color);
            font-size: 1.8rem;
            font-weight: bold;
            text-decoration: none;
            transition: var(--transition);
        }

        .logo:hover {
            color: var(--gold-color);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            transition: var(--transition);
            font-weight: 500;
        }

        .nav-links a:hover, .nav-links a.active {
            background: rgba(246, 152, 152, 0.2);
            color: var(--primary-color);
        }

        .nav-links a.salary-active {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2));
            color: var(--gold-color);
            border: 1px solid rgba(255, 215, 0, 0.3);
            font-weight: bold;
        }

        .back-to-jobs {
            background: linear-gradient(135deg, var(--primary-color), #ff9e9e);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: bold;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .back-to-jobs:hover {
            background: linear-gradient(135deg, var(--primary-hover), #ff8a8a);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(246, 152, 152, 0.3);
        }

        .mobile-menu-toggle {
            display: none;
            background: rgba(246, 152, 152, 0.2);
            border: none;
            border-radius: 8px;
            padding: 10px;
            color: var(--primary-color);
            cursor: pointer;
            font-size: 1.2rem;
        }

        /* Hero Section */
        .hero-section {
            padding: 60px 0 40px;
            text-align: center;
            background: linear-gradient(135deg, 
                rgba(255, 215, 0, 0.1) 0%, 
                rgba(246, 152, 152, 0.1) 50%, 
                rgba(0, 0, 0, 0.8) 100%);
            border-radius: 0 0 30px 30px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .hero-title {
            font-size: 3rem;
            background: linear-gradient(135deg, var(--gold-color), var(--primary-color));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: bold;
            position: relative;
            z-index: 2;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: var(--text-muted);
            margin-bottom: 30px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            position: relative;
            z-index: 2;
        }

        /* Info Banner */
        .info-banner {
            background: linear-gradient(135deg, 
                rgba(255, 215, 0, 0.1), 
                rgba(246, 152, 152, 0.1));
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
            position: relative;
        }

        .info-banner h4 {
            color: var(--gold-color);
            margin-bottom: 12px;
            font-size: 1.2rem;
        }

        .info-banner p {
            color: var(--text-muted);
            margin: 0;
            line-height: 1.6;
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: 60px;
            color: white;
        }

        .loading-spinner {
            border: 4px solid rgba(255, 215, 0, 0.3);
            border-radius: 50%;
            border-top: 4px solid var(--gold-color);
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Dynamic Salary Grid */
        .salary-categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .category-card {
            background: linear-gradient(135deg, rgba(246, 152, 152, 0.1), rgba(255, 215, 0, 0.05));
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(255, 215, 0, 0.2);
            border-color: rgba(255, 215, 0, 0.4);
        }
        
        .category-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            gap: 15px;
        }
        
        .category-icon {
            font-size: 2.5rem;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 50%;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }
        
        .category-title {
            flex: 1;
        }
        
        .category-title h3 {
            color: var(--gold-color);
            margin: 0 0 5px 0;
            font-size: 1.3rem;
            font-weight: bold;
        }
        
        .jobs-count {
            color: var(--text-muted);
            font-size: 0.9rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 3px 10px;
            border-radius: 12px;
            display: inline-block;
        }
        
        .avg-salary {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--success-color);
            text-align: center;
            background: rgba(40, 167, 69, 0.1);
            padding: 8px 15px;
            border-radius: 8px;
            border: 1px solid rgba(40, 167, 69, 0.2);
        }
        
        .category-description {
            color: var(--text-muted);
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .salary-details {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .salary-range, .salary-trend {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .salary-trend {
            margin-bottom: 0;
        }
        
        .range-label, .trend-label {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .range-values {
            color: white;
            font-weight: 600;
        }
        
        .trend-value {
            color: var(--success-color);
            font-weight: 600;
        }
        
        .view-jobs-btn {
            background: linear-gradient(135deg, var(--primary-color), #ff9e9e);
            color: white;
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 8px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
            justify-content: center;
        }
        
        .view-jobs-btn:hover {
            background: linear-gradient(135deg, var(--primary-hover), #ff8a8a);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(246, 152, 152, 0.3);
        }

        /* Data Source Notice */
        .data-source-notice {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .data-source-notice h3 {
            color: var(--gold-color);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .data-source-notice p {
            color: var(--text-muted);
            margin-bottom: 15px;
        }

        .data-source-notice .categories-list {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .data-source-notice .category-item {
            display: inline-block;
            background: rgba(255, 215, 0, 0.2);
            padding: 6px 12px;
            border-radius: 20px;
            margin: 5px;
            font-size: 0.9rem;
            color: white;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--dark-bg), var(--darker-bg));
            color: white;
            padding: 50px 0;
            text-align: center;
            margin-top: 60px;
            border-top: 2px solid var(--gold-color);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-section h3 {
            color: var(--gold-color);
            margin-bottom: 15px;
        }

        .footer-section p, .footer-section a {
            color: var(--text-muted);
            text-decoration: none;
            line-height: 1.6;
        }

        .footer-section a:hover {
            color: var(--gold-color);
        }

        .footer-social {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }

        .social-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--dark-bg), var(--darker-bg));
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gold-color);
            text-decoration: none;
            transition: var(--transition);
            font-size: 1.3rem;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .social-icon:hover {
            background: linear-gradient(135deg, var(--gold-color), var(--gold-hover));
            color: #333;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.3);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            .hero-title {
                font-size: 2.2rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
                padding: 0 10px;
            }

            .salary-categories-grid {
                grid-template-columns: 1fr;
            }
            
            .category-header {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
            
            .category-title {
                text-align: center;
            }

            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }

            .hero-section {
                padding: 40px 0 30px;
            }

            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-inner">
                <a href="https://mayeshpo.co.il" class="logo">מה יש פה?</a>
                <nav class="nav-links">
                    <a href="https://mayeshpo.co.il">דף הבית</a>
                    <a href="#" class="salary-active">💰 טווחי שכר</a>
                    <a href="https://mayeshpo.co.il#search">משרות</a>
                    <a href="https://mayeshpo.co.il#contact">צור קשר</a>
                </nav>
                <a href="https://mayeshpo.co.il" class="back-to-jobs">
                    <i class="fas fa-arrow-right"></i>
                    חזרה למשרות
                </a>
                <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <h1 class="hero-title">💰 טווחי שכר במשק הישראלי</h1>
            <p class="hero-subtitle">
                נתונים מעודכנים ואמינים על שכר ממוצע במקצועות שונים בישראל 2025
                <br>מבוסס על נתוני משרות במערכת ומקורות אמינים
            </p>
        </div>
    </section>

    <div class="container">
        <!-- Info Banner -->
        <div class="info-banner">
            <h4><i class="fas fa-info-circle"></i> איך זה עובד?</h4>
            <p>
                אנחנו מנתחים את המשרות במערכת שלנו ומציגים לכם את הקטגוריות הפעילות
                עם אומדני שכר מדויקים. הנתונים מתעדכנים באופן תקופתי על פי המשרות החדשות.
            </p>
        </div>

        <!-- Loading State -->
        <div id="loadingState" class="loading">
            <div class="loading-spinner"></div>
            <p>טוען נתוני משרות ומחשב טווחי שכר...</p>
        </div>

        <!-- Data Source Notice -->
        <div id="dataSourceNotice" class="data-source-notice" style="display: none;">
            <h3>📊 הקטגוריות שנמצאו במערכת</h3>
            <p>על בסיס <span id="totalJobsFound">0</span> משרות פעילות, זוהו הקטגוריות הבאות:</p>
            <div id="categoriesList" class="categories-list"></div>
            <p style="margin-top: 15px; font-size: 0.9rem;">
                <strong>שימו לב:</strong> טווחי השכר מבוססים על אומדנים ונתוני שוק ומטרתם לתת כיוון כללי.
                השכר הסופי תלוי בגורמים רבים כמו ניסיון, השכלה, מיקום וגודל החברה.
            </p>
        </div>

        <!-- Dynamic Salary Data Container -->
        <div id="dynamicSalaryContainer" style="display: none;">
            <!-- הנתונים יוכנסו כאן דינמית -->
        </div>

        <!-- No Data Message -->
        <div id="noDataMessage" class="data-source-notice" style="display: none;">
            <h3>📋 אין נתונים זמינים כרגע</h3>
            <p>לא הצלחנו לטעון נתוני משרות מהמערכת. אנא נסו שוב מאוחר יותר.</p>
            <p style="margin-top: 15px;">
                <a href="https://mayeshpo.co.il" style="color: var(--gold-color); text-decoration: none;">
                    ← חזרה ללוח המשרות
                </a>
            </p>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>💰 מה יש פה? - טווחי שכר</h3>
                    <p>המקור המוביל לנתוני שכר מעודכנים במשק הישראלי. מבוסס על מחקרים מקצועיים ונתוני שוק אמינים.</p>
                </div>
                <div class="footer-section">
                    <h3>📊 המקורות שלנו</h3>
                    <p>נתוני משרות במערכת<br>
                    הלשכה המרכזית לסטטיסטיקה<br>
                    משרד הכלכלה והתעשייה<br>
                    סקרי שכר מקצועיים</p>
                </div>
                <div class="footer-section">
                    <h3>🔗 קישורים שימושיים</h3>
                    <a href="https://mayeshpo.co.il">לוח המשרות שלנו</a><br>
                    <a href="https://mayeshpo.co.il#contact">צור קשר</a><br>
                    <a href="https://www.cbs.gov.il">אתר הלמ"ס</a><br>
                    <a href="https://www.gov.il/he/departments/ministry_of_economy">משרד הכלכלה</a>
                </div>
            </div>
            
            <div class="footer-social">
                <a href="https://www.facebook.com/ma.yesh.po.akko" class="social-icon" title="פייסבוק">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <a href="https://www.instagram.com/kerenraf1/" class="social-icon" title="אינסטגרם">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.linkedin.com/company/12620436/" class="social-icon" title="לינקדאין">
                    <i class="fab fa-linkedin-in"></i>
                </a>
                <a href="https://wa.me/972555504633" class="social-icon" title="וואטסאפ">
                    <i class="fab fa-whatsapp"></i>
                </a>
            </div>
            
            <p style="margin-top: 25px; opacity: 0.8; font-size: 0.9rem;">
                © 2025 מה יש פה? - כל הזכויות שמורות | נתוני שכר מעודכנים
            </p>
        </div>
    </footer>

    <script>
        // משתנים גלובליים
        let jobsData = [];
        let categoriesFound = [];

        // נתוני שכר בסיסיים לפי קטגוריות (ברירת מחדל) - יתעדכנו דינמית
        const baseSalaryData = {
            'פיתוח ותוכנה': {
                icon: '💻',
                avgSalary: '₪25,000',
                description: 'תחום הטכנולוגיה והפיתוח - משכורות גבוהות עם פוטנציאל צמיחה',
                minRange: '₪12,000',
                maxRange: '₪80,000',
                trend: 'עולה 📈'
            },
            'מכירות ושיווק': {
                icon: '📈',
                avgSalary: '₪18,000',
                description: 'מכירות ושיווק - שכר בסיס + עמלות משתנות',
                minRange: '₪8,000',
                maxRange: '₪65,000',
                trend: 'עולה 📈'
            },
            
            'חינוך והוראה': {
                icon: '📚',
                avgSalary: '₪12,500',
                description: 'מערכת החינוך - שכר יציב עם תוספות',
                minRange: '₪6,500',
                maxRange: '₪32,000',
                trend: 'יציב ➡️'
            },
            'מזון ומסעדנות': {
                icon: '🍽️',
                avgSalary: '₪9,500',
                description: 'תעשיית המזון - כולל טיפים ותוספות',
                minRange: '₪35/שעה',
                maxRange: '₪50,000',
                trend: 'עולה 📈'
            },
            'בריאות ורפואה': {
                icon: '🏥',
                avgSalary: '₪35,000',
                description: 'מערכת הבריאות - משכורות גבוהות במיוחד',
                minRange: '₪8,000',
                maxRange: '₪150,000',
                trend: 'עולה חזק 📈'
            },
            'ניהול ומנהלה': {
                icon: '👔',
                avgSalary: '₪28,000',
                description: 'תפקידי ניהול - תלוי בתחום ובגודל החברה',
                minRange: '₪12,000',
                maxRange: '₪90,000',
                trend: 'עולה 📈'
            },
            'שירות לקוחות': {
                icon: '📞',
                avgSalary: '₪11,000',
                description: 'שירות לקוחות - נקודת כניסה טובה לשוק העבודה',
                minRange: '₪5,500',
                maxRange: '₪28,000',
                trend: 'יציב ➡️'
            },
            'בנייה והנדסה': {
                icon: '🏗️',
                avgSalary: '₪22,000',
                description: 'בנייה והנדסה - ביקוש גבוה ושכר טוב',
                minRange: '₪10,000',
                maxRange: '₪60,000',
                trend: 'עולה 📈'
            },
            'תחבורה ולוגיסטיקה': {
                icon: '🚛',
                avgSalary: '₪15,000',
                description: 'תחבורה ומשלוחים - עם תוספות וקילומטראז',
                minRange: '₪8,000',
                maxRange: '₪35,000',
                trend: 'יציב ➡️'
            },
            'יופי ואסתטיקה': {
                icon: '💄',
                avgSalary: '₪13,500',
                description: 'קוסמטיקה ויופי - עבודה פרטית ובשכירות',
                minRange: '₪80/שעה',
                maxRange: '₪40,000',
                trend: 'עולה 📈'
            },
            'אבטחה ובטיחות': {
                icon: '🛡️',
                avgSalary: '₪11,500',
                description: 'אבטחה ובטיחות - עבודה במשמרות',
                minRange: '₪40/שעה',
                maxRange: '₪25,000',
                trend: 'יציב ➡️'
            },
            // ברירת מחדל לקטגוריות לא מוכרות
            'default': {
                icon: '💼',
                avgSalary: '₪15,000',
                description: 'נתונים כלליים על התחום',
                minRange: '₪6,000',
                maxRange: '₪45,000',
                trend: 'יציב ➡️'
            }
        };

        // פונקציות עזר
        function toggleMobileMenu() {
            // הוספת פונקציונליות תפריט מובייל במידת הצורך
            console.log('תפריט מובייל נלחץ');
        }

        // טעינת נתוני משרות מהמערכת הראשית - אותם קישורים כמו בדף הראשי
        async function loadJobsFromMainSystem() {
            console.log('🔄 מנסה לטעון נתוני משרות מהמערכת הראשית...');
            
            const githubUrls = [
                'https://raw.githubusercontent.com/kerenraf/mahyeshpo-website/main/data/jobs.json',
                'https://raw.githubusercontent.com/kerenraf/mahyeshpo-website/main/jobs.json',
                'https://raw.githubusercontent.com/kerenraf/mahyeshpo-website/main/data.js/jobs(1).json'
            ];
            
            for (let i = 0; i < githubUrls.length; i++) {
                try {
                    console.log(`🔄 מנסה לטעון מ: ${githubUrls[i]}`);
                    const response = await fetch(githubUrls[i]);
                    
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}`);
                    }
                    
                    const data = await response.json();
                    
                    if (data && Array.isArray(data) && data.length > 0) {
                        console.log(`✅ הצלחנו לטעון ${data.length} משרות מ-GitHub`);
                        return data;
                    }
                } catch (error) {
                    console.warn(`❌ טעינה נכשלה מ: ${githubUrls[i]} - ${error.message}`);
                }
            }
            
            console.warn('⚠️ לא הצלחנו לטעון מאף מקור GitHub');
            return null;

        }

        // בדיקת localStorage
        function loadJobsFromLocalStorage() {
            try {
                const storedJobs = localStorage.getItem('jobs');
                if (storedJobs) {
                    const data = JSON.parse(storedJobs);
                    if (Array.isArray(data) && data.length > 0) {
                        console.log(`✅ נמצאו ${data.length} משרות ב-localStorage`);
                        return data;
                    }
                }
            } catch (error) {
                console.warn('❌ שגיאה בטעינה מ-localStorage:', error);
            }
            return null;
        }

        // חילוץ קטגוריות מנתוני המשרות
        function extractCategoriesFromJobs(jobs) {
            const categoriesCount = {};
            
            jobs.forEach(job => {
                if (job.category && job.category.trim()) {
                    const category = job.category.trim();
                    categoriesCount[category] = (categoriesCount[category] || 0) + 1;
                }
            });
            
            // מיון לפי כמות המשרות
            const sortedCategories = Object.entries(categoriesCount)
                .sort((a, b) => b[1] - a[1])
                .map(([category, count]) => ({ category, count }));
            
            console.log('📊 קטגוריות שנמצאו:', sortedCategories);
            return sortedCategories;
        }

        // יצירת HTML לקטגוריה
        function createCategoryHTML(category, jobCount) {
            const categoryData = baseSalaryData[category] || baseSalaryData['default'];

            return `
                <div class="category-card" data-category="${category}">
                    <div class="category-header">
                        <div class="category-icon">${categoryData.icon}</div>
                        <div class="category-title">
                            <h3>${category}</h3>
                            <span class="jobs-count">${jobCount} משרות פעילות</span>
                        </div>
                        <div class="avg-salary">${categoryData.avgSalary}</div>
                    </div>
                    
                    <div class="category-content">
                        <p class="category-description">${categoryData.description}</p>
                        
                        <div class="salary-details">
                            <div class="salary-range">
                                <span class="range-label">טווח שכר:</span>
                                <span class="range-values">${categoryData.minRange} - ${categoryData.maxRange}</span>
                            </div>
                            <div class="salary-trend">
                                <span class="trend-label">מגמה:</span>
                                <span class="trend-value">${categoryData.trend}</span>
                            </div>
                        </div>
                        
                        <div class="category-actions">
                            <a href="javascript:void(0)" class="view-jobs-btn" onclick="searchJobsByCategory('${category}')">
                                <i class="fas fa-search"></i>
                                חפש משרות בתחום
                            </a>
                        </div>
                    </div>
                </div>
            `;
        }

        // חיפוש משרות לפי קטגוריה
        function searchJobsByCategory(category) {
            // שמירת הקטגוריה ב-localStorage למעבר לדף הראשי
            try {
                localStorage.setItem('searchCategory', category);
                console.log(`🔍 שמרנו קטגוריה לחיפוש: ${category}`);
            } catch (error) {
                console.warn('⚠️ לא הצלחנו לשמור קטגוריה:', error);
            }
            
            // ניתוב לדף הראשי עם פרמטר חיפוש
            const searchUrl = `https://mayeshpo.co.il#search&category=${encodeURIComponent(category)}`;
            console.log(`🔗 מעביר לחיפוש: ${searchUrl}`);
            window.location.href = searchUrl;
        }

        // עדכון רשימת הקטגוריות
        function updateCategoriesList(categories) {
            const categoriesListEl = document.getElementById('categoriesList');
            if (categoriesListEl) {
                categoriesListEl.innerHTML = categories
                    .map(({ category, count }) => `
                        <span class="category-item">${category} (${count})</span>
                    `).join('');
            }
        }

        // יצירת תוכן דינמי
        function createDynamicContent(categories) {
            const container = document.getElementById('dynamicSalaryContainer');
            if (!container) return;

            let html = '<div class="salary-categories-grid">';
            
            categories.forEach(({ category, count }) => {
                html += createCategoryHTML(category, count);
            });
            
            html += '</div>';
            
            container.innerHTML = html;
        }

        // פונקציה ראשית לטעינת הנתונים - רק משרות אמיתיות
        async function initializeSalaryRanges() {
            console.log('🚀 מתחיל טעינת נתוני טווחי שכר...');
            
            try {
                // ניסיון טעינה מהמערכת הראשית
                let jobs = await loadJobsFromMainSystem();
                
                // אם לא הצליח מ-GitHub, ננסה localStorage
                if (!jobs) {
                    jobs = loadJobsFromLocalStorage();
                }
                
                if (jobs && jobs.length > 0) {
                    console.log(`✅ נטענו ${jobs.length} משרות בהצלחה`);
                    
                    // סינון משרות פעילות בלבד
                    const activeJobs = jobs.filter(job => job.status === 'פעיל' || !job.status);
                    console.log(`📋 ${activeJobs.length} משרות פעילות מתוך ${jobs.length}`);
                    
                    if (activeJobs.length === 0) {
                        throw new Error('אין משרות פעילות במערכת');
                    }
                    
                    // חילוץ קטגוריות
                    const categories = extractCategoriesFromJobs(activeJobs);
                    console.log(`🏷️ נמצאו ${categories.length} קטגוריות:`, categories.map(c => c.category));
                    
                    if (categories.length > 0) {
                        // עדכון מספר המשרות
                        const totalJobsEl = document.getElementById('totalJobsFound');
                        if (totalJobsEl) {
                            totalJobsEl.textContent = activeJobs.length;
                        }
                        
                        // עדכון רשימת הקטגוריות
                        updateCategoriesList(categories);
                        
                        // יצירת התוכן הדינמי
                        createDynamicContent(categories);
                        
                        // הסתרת מסך הטעינה והצגת התוכן
                        document.getElementById('loadingState').style.display = 'none';
                        document.getElementById('dataSourceNotice').style.display = 'block';
                        document.getElementById('dynamicSalaryContainer').style.display = 'block';
                        
                        console.log('✅ דף טווחי השכר נטען בהצלחה');
                        console.log('📊 קטגוריות זמינות:', categories.map(c => `${c.category} (${c.count})`));
                        
                        // Google Analytics tracking
                        if (typeof gtag === 'function') {
                            gtag('event', 'salary_ranges_loaded', {
                                'event_category': 'salary_ranges',
                                'event_label': `${categories.length}_categories_${activeJobs.length}_jobs`
                            });
                        }
                    } else {
                        throw new Error('לא נמצאו קטגוריות במשרות הפעילות');
                    }
                } else {
                    throw new Error('לא הצלחנו לטעון משרות מהמערכת');
                }
                
            } catch (error) {
                console.error('❌ שגיאה בטעינת נתוני השכר:', error);
                
                // הסתרת מסך הטעינה והצגת הודעת שגיאה
                document.getElementById('loadingState').style.display = 'none';
                document.getElementById('noDataMessage').style.display = 'block';
                
                // עדכון הודעת השגיאה
                const noDataMsg = document.getElementById('noDataMessage');
                if (noDataMsg) {
                    noDataMsg.innerHTML = `
                        <h3>📋 לא נמצאו נתוני משרות</h3>
                        <p>לא הצלחנו לטעון את נתוני המשרות האמיתיות מהמערכת.</p>
                        <p><strong>הסיבה:</strong> ${error.message}</p>
                        <p style="margin-top: 15px; font-size: 0.9rem; color: #ccc;">
                            אנא ודא שקובץ המשרות JSON זמין ובפורמט תקין במיקום:
                            <br>• GitHub Repository
                            <br>• localStorage של הדפדפן
                        </p>
                        <p style="margin-top: 20px;">
                            <a href="https://mayeshpo.co.il" style="color: var(--gold-color); text-decoration: none; font-weight: bold;">
                                ← חזרה ללוח המשרות הראשי
                            </a>
                        </p>
                    `;
                }
                
                // Google Analytics error tracking
                if (typeof gtag === 'function') {
                    gtag('event', 'salary_ranges_error', {
                        'event_category': 'salary_ranges',
                        'event_label': error.message
                    });
                }
            }
        }

        // פונקציות נוספות לשיפור החוויה
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'linear-gradient(135deg, #28a745, #20c997)' : 'linear-gradient(135deg, #dc3545, #e74c3c)'};
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                z-index: 10000;
                font-weight: bold;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                animation: slideInNotification 0.3s ease-out;
                font-family: 'Assistant', sans-serif;
            `;
            notification.textContent = message;
            
            // הוספת CSS לאנימציה
            if (!document.querySelector('#notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    @keyframes slideInNotification {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(notification);
            
            setTimeout(function() {
                notification.remove();
            }, 3000);
        }

        // פונקציות שיתוף
        function shareOnWhatsApp() {
            const text = `💰 בדקתי את נתוני השכר במשק הישראלי באתר "מה יש פה?"
            
נתונים מעניינים ומעודכנים על טווחי שכר בכל התחומים!

כנסו לבדוק: ${window.location.href}

#שכר #עבודה #קריירה`;
            
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(text)}`;
            window.open(whatsappUrl, '_blank');
            
            if (typeof gtag === 'function') {
                gtag('event', 'share', {
                    'method': 'whatsapp',
                    'content_type': 'salary_ranges'
                });
            }
        }

        function shareOnFacebook() {
            const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`;
            window.open(facebookUrl, '_blank', 'width=600,height=400');
            
            if (typeof gtag === 'function') {
                gtag('event', 'share', {
                    'method': 'facebook',
                    'content_type': 'salary_ranges'
                });
            }
        }

        // אתחול כשהדף נטען
        document.addEventListener('DOMContentLoaded', function() {
            console.log('📄 דף טווחי שכר נטען - מתחיל אתחול');
            
            // Google Analytics - page view
            if (typeof gtag === 'function') {
                gtag('event', 'page_view', {
                    'page_title': 'Salary Ranges',
                    'page_location': window.location.href
                });
            }
            
            // בדיקת זמינות אלמנטים
            const requiredElements = ['loadingState', 'dataSourceNotice', 'dynamicSalaryContainer', 'noDataMessage'];
            const missingElements = requiredElements.filter(id => !document.getElementById(id));
            
            if (missingElements.length > 0) {
                console.error('❌ אלמנטים חסרים:', missingElements);
            } else {
                console.log('✅ כל האלמנטים הנדרשים קיימים');
            }
            
            // המתנה קצרה לוודא שהכל נטען
            setTimeout(initializeSalaryRanges, 500);
        });

        // מניעת שגיאות במקרה של בעיות חיצוניות
        window.addEventListener('error', function(e) {
            console.warn('⚠️ שגיאה בדף:', e.message);
        });

        // הפיכת פונקציות לגלובליות
        window.searchJobsByCategory = searchJobsByCategory;
        window.toggleMobileMenu = toggleMobileMenu;
        window.shareOnWhatsApp = shareOnWhatsApp;
        window.shareOnFacebook = shareOnFacebook;

        console.log('💰 מערכת טווחי שכר דינמית מוכנה!');
    </script>
</body>
</html>
